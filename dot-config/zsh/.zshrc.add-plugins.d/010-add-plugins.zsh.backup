[[ "$ZSH_DEBUG" == "1" ]] && {
    printf "# ++++++ %s ++++++++++++++++++++++++++++++++++++\n" "$0" >&2
    # Add this check to detect errant file creation:
    if [[ -f "${ZDOTDIR:-$HOME}/2" ]] || [[ -f "${ZDOTDIR:-$HOME}/3" ]]; then
        echo "Warning: Numbered files detected - check for redirection typos" >&2
    fi
}

zgenom load mroth/evalcache
# Manual loading of zsh-abbr to bypass compilation issues
local abbr_dir="${ZDOTDIR:-$HOME}/.zgenom/olets/zsh-abbr/v6"
if [[ -d "$abbr_dir" && -f "$abbr_dir/zsh-abbr.zsh" ]]; then
    [[ -d "$abbr_dir/completions" ]] && fpath+="$abbr_dir/completions"
    source "$abbr_dir/zsh-abbr.zsh"
else
    # Fallback to zgenom if manual loading fails
    zgenom load olets/zsh-abbr '' v6 2>/dev/null || true
fi
zgenom oh-my-zsh plugins/aliases
zgenom load mafredri/zsh-async
zgenom load hlissner/zsh-autopair
# Load autosuggestions-abbreviations-strategy with fallback
if ! zgenom load olets/zsh-autosuggestions-abbreviations-strategy 2>/dev/null; then
  # Fallback: source directly if zgenom fails
  local abbr_strat_dir="${ZDOTDIR:-$HOME}/.zgenom/olets/zsh-autosuggestions-abbreviations-strategy/___"
  [[ -f "$abbr_strat_dir/zsh-autosuggestions-abbreviations-strategy.zsh" ]] && source "$abbr_strat_dir/zsh-autosuggestions-abbreviations-strategy.zsh"
fi
zgenom oh-my-zsh plugins/bun
zgenom oh-my-zsh plugins/charm
zgenom oh-my-zsh plugins/colorize
zgenom oh-my-zsh plugins/composer
zgenom oh-my-zsh plugins/cpanm
zgenom load romkatv/zsh-defer
zgenom oh-my-zsh plugins/deno
zgenom load jamesob/desk shell_plugins/zsh
zgenom oh-my-zsh plugins/direnv
zgenom oh-my-zsh plugins/dotnet
zgenom oh-my-zsh plugins/emacs
#zgenom load b4b4r07/enhancd
zgenom oh-my-zsh plugins/eza
zgenom oh-my-zsh plugins/fzf
zgenom oh-my-zsh plugins/gem
zgenom oh-my-zsh plugins/gh
zgenom oh-my-zsh plugins/git
zgenom oh-my-zsh plugins/golang
zgenom oh-my-zsh plugins/gpg-agent
zgenom oh-my-zsh plugins/isodate
zgenom oh-my-zsh plugins/iterm2
zgenom oh-my-zsh plugins/kitty
zgenom oh-my-zsh plugins/laravel
zgenom oh-my-zsh plugins/zsh-navigation-tools
zgenom load chisui/zsh-nix-shell
zgenom oh-my-zsh plugins/npm
zgenom oh-my-zsh plugins/nvm
zgenom oh-my-zsh plugins/perl
zgenom oh-my-zsh plugins/pip
zgenom oh-my-zsh plugins/rust
zgenom oh-my-zsh plugins/screen
zgenom oh-my-zsh plugins/ssh
# DISABLED: ssh-agent plugin causes FIDO key loading errors despite pre-configuration
# zgenom oh-my-zsh plugins/ssh-agent  # Enhanced pre-plugin configuration prevents FIDO key prompts
zgenom oh-my-zsh plugins/starship
zgenom oh-my-zsh plugins/tailscale
zgenom oh-my-zsh plugins/themes
zgenom oh-my-zsh plugins/tmux
zgenom oh-my-zsh plugins/xcode
zgenom oh-my-zsh plugins/zoxide
zgenom load zdharma-continuum/fast-syntax-highlighting
