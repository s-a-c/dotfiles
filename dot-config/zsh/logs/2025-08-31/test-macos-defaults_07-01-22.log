ğŸ§ª Testing Deferred macOS Defaults Execution System
==================================================
ğŸ“… Test Started: 2025-08-31T07:01:22Z
ğŸ“‹ Log File: /Users/s-a-c/.config/zsh/logs/2025-08-31/test-macos-defaults_07-01-22.log

1. Testing wrapper script existence and configuration...
   âœ… Wrapper script exists: /Users/s-a-c/.config/zsh/.zshrc.pre-plugins.d/03-macos-defaults-deferred.zsh
   âŒ Setup script missing or not executable: /Users/s-a-c/.config/zsh/bin/macos-defaults-setup.zsh
2. Testing first run behavior (no marker file)...
   ğŸ—‘ï¸  Removing existing marker file: /Users/s-a-c/.config/zsh/.macos-defaults-last-run
   ğŸ“¥ Sourcing wrapper function...
   âŒ Marker file not created on first run
   âŒ Log does not show setup script execution

3. Testing skip behavior (marker file exists and recent)...
   âš ï¸  Creating marker file for skip test
   ğŸ“¥ Sourcing wrapper function (second time)...
   âŒ Log does not show skip behavior

4. Testing script modification detection...
   ğŸ“¥ Sourcing wrapper after script modification...
   âŒ Log does not show modification detection

5. Testing startup time with deferred execution...
   ğŸ“Š Deferred execution time: 2ms
   âœ… Deferred execution is fast (< 100ms)

6. Testing log file organization...
   âœ… Date-named log directory exists: /Users/s-a-c/dotfiles/dot-config/zsh/logs/2025-08-31
   âœ… UTC-timestamped log files found: 17 files
     ğŸ“„ deferred-macos-defaults_2025-08-31T06-59-38Z.log
     ğŸ“„ deferred-macos-defaults_2025-08-31T06-59-39Z.log
     ğŸ“„ deferred-macos-defaults_2025-08-31T06-59-49Z.log
     ğŸ“„ deferred-macos-defaults_2025-08-31T06-59-55Z.log
     ğŸ“„ deferred-macos-defaults_2025-08-31T07-00-01Z.log
     ğŸ“„ deferred-macos-defaults_2025-08-31T07-00-07Z.log
     ğŸ“„ deferred-macos-defaults_2025-08-31T07-00-15Z.log
     ğŸ“„ deferred-macos-defaults_2025-08-31T07-00-21Z.log
     ğŸ“„ deferred-macos-defaults_2025-08-31T07-00-26Z.log
     ğŸ“„ deferred-macos-defaults_2025-08-31T07-00-41Z.log
     ğŸ“„ deferred-macos-defaults_2025-08-31T07-00-47Z.log
     ğŸ“„ deferred-macos-defaults_2025-08-31T07-00-52Z.log
     ğŸ“„ deferred-macos-defaults_2025-08-31T07-00-59Z.log
     ğŸ“„ deferred-macos-defaults_2025-08-31T07-01-06Z.log
     ğŸ“„ deferred-macos-defaults_2025-08-31T07-01-11Z.log
     ğŸ“„ deferred-macos-defaults_2025-08-31T07-01-16Z.log
     ğŸ“„ deferred-macos-defaults_2025-08-31T07-01-22Z.log

ğŸ Test Results Summary
======================
âœ… Tests Passed: 4
âŒ Tests Failed: 5
ğŸ“Š Total Tests: 9

âš ï¸  Some deferred macOS defaults tests failed
âŒ Task 2.1 needs attention
