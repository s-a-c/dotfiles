[2025-08-31 07:59:36] [INFO] Starting test suite execution
[2025-08-31 07:59:36] [INFO] ZDOTDIR: /Users/s-a-c/dotfiles/dot-config/zsh
[2025-08-31 07:59:36] [INFO] ZSH_COMPDUMP: /Users/s-a-c/.cache/zsh/.zcompdump-5.9
[2025-08-31 07:59:36] [INFO] ZSH_CACHE_DIR: /Users/s-a-c/.cache/zsh
[2025-08-31 07:59:37] [PASS] test-docs-governance - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
PASS docs governance
[2025-08-31 07:59:37] [SKIP] test-format-style - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
SKIP format script missing
[2025-08-31 07:59:37] [FAIL] test-plugin-order - Exit code: 1
[2025-08-31 07:59:37] [FAIL] test-plugin-order - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
FAIL plugin order mismatch
Expected: hlissner/zsh-autopair composer laravel gh iterm2 nvm npm aliases eza zoxide fzf mroth/evalcache mafredri/zsh-async romkatv/zsh-defer
Actual:     hlissner/zsh-autopair composer laravel gh iterm2 aliases eza zoxide fzf mroth/evalcache mafredri/zsh-async romkatv/zsh-defer
[2025-08-31 07:59:37] [PASS] test-postplugin-compinit-baseline - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
PASS post-plugin compinit baseline (total=19 active=00 legacy=19)
[2025-08-31 07:59:37] [PASS] test-postplugin-guards - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
PASS post-plugin guards
[2025-08-31 07:59:37] [PASS] test-postplugin-no-compinit - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
PASS post-plugin no-compinit
[2025-08-31 07:59:37] [PASS] test-postplugin-options-parity - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
PASS post-plugin options parity
[2025-08-31 07:59:37] [PASS] test-postplugin-structure - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
PASS post-plugin structure (12 files)
[2025-08-31 07:59:37] [PASS] test-preplugin-indent - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
PASS pre-plugin indentation (4-space policy)
[2025-08-31 07:59:37] [PASS] test-preplugin-no-compinit - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
PASS pre-plugin no-compinit
[2025-08-31 07:59:37] [PASS] test-preplugin-strict-xdg - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
PASS strict XDG guards
[2025-08-31 07:59:37] [PASS] test-preplugin-structure - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
PASS pre-plugin structure (8 files)
[2025-08-31 07:59:37] [SKIP] test-style-api-basic - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
SKIP (placeholder) style API basic
[2025-08-31 07:59:37] [SKIP] test-style-api-collision - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
SKIP (placeholder) style API collision
[2025-08-31 07:59:37] [SKIP] test-style-api-idempotent - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
SKIP (placeholder) style API idempotent
[2025-08-31 07:59:37] [SKIP] test-style-api-order - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
SKIP (placeholder) style API order determinism
[2025-08-31 07:59:37] [SKIP] test-style-snapshot-equiv - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
SKIP (placeholder) style snapshot equivalence
[2025-08-31 07:59:37] [PASS] test-whitespace-style - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
PASS whitespace & indentation style
[2025-08-31 07:59:37] [SKIP] test-style-finalizer-metrics - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
SKIP (placeholder) style finalizer metrics
[2025-08-31 07:59:37] [SKIP] test-style-finalizer-order - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
SKIP (placeholder) style finalizer order determinism
[2025-08-31 07:59:37] [SKIP] test-variant-default-equiv - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
SKIP (placeholder) variant default equivalence
[2025-08-31 07:59:37] [SKIP] test-variant-high-contrast - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
SKIP (placeholder) variant high contrast
[2025-08-31 07:59:37] [SKIP] test-variant-low-color-auto - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
SKIP (placeholder) low-color auto variant
[2025-08-31 07:59:37] [SKIP] test-variant-override-precedence - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
SKIP (placeholder) variant override precedence
[2025-08-31 07:59:38] [SKIP] test-style-snapshot-final - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
SKIP (placeholder) final style snapshot integrity
[2025-08-31 07:59:38] [SKIP] test-variant-timing - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
SKIP (placeholder) variant timing threshold
[2025-08-31 07:59:38] [FAIL] test-histfile-single - Exit code: 1
[2025-08-31 07:59:38] [FAIL] test-histfile-single - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
# [test-histfile-single] Testing HISTFILE configuration consistency
FAIL: HISTSIZE not set or too small: 50000
[2025-08-31 07:59:38] [FAIL] test-locale-conditional - Exit code: 1
[2025-08-31 07:59:38] [FAIL] test-locale-conditional - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
# [test-locale-conditional] Testing locale configuration consistency
FAIL: LANG not properly exported to subshells
  Expected: en_GB.UTF-8
  Actual: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
en_GB.UTF-8
[2025-08-31 07:59:38] [FAIL] test-path-dedup - Exit code: 127
[2025-08-31 07:59:38] [FAIL] test-path-dedup - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
# [test-path-dedup] Starting PATH deduplication test
zsh:source:1: no such file or directory: ./.zshenv
[2025-08-31 07:59:38] [FAIL] test-path-lock - Exit code: 1
[2025-08-31 07:59:38] [FAIL] test-path-lock - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
# [test-path-lock] Testing PATH deduplication function consistency
[2025-08-31 07:59:38] [FAIL] test-lock-contention - Exit code: 1
[2025-08-31 07:59:38] [FAIL] test-lock-contention - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
# [test-lock-contention] Testing completion rebuild lock contention
Testing concurrent completion rebuilds...
FAIL: Both concurrent rebuild processes failed (exit1=1 exit2=1)
[2025-08-31 07:59:38] [FAIL] test-preplugin-badges - Exit code: 1
[2025-08-31 07:59:38] [FAIL] test-preplugin-badges - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
/Users/s-a-c/dotfiles/dot-config/zsh/tests/perf/phase06/test-preplugin-badges.zsh:14: command not found: grep
FAIL schema missing preplugin.json
[2025-08-31 07:59:38] [PASS] test-preplugin-delta-compare - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
PASS preplugin delta compare (legacy=78.426ms redesign=14.603ms improvement=63.823ms 81.38%)
[2025-08-31 07:59:38] [PASS] test-preplugin-segment-timing - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
PASS preplugin timing harness (files=8 total_ms=39.170)
[2025-08-31 07:59:39] [PASS] test-preplugin-timing-mode - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
PASS preplugin timing mode guards
[2025-08-31 07:59:47] [FAIL] test-single-compinit - Exit code: 141
[2025-08-31 07:59:47] [FAIL] test-single-compinit - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
# [test-single-compinit] Testing single compinit execution
FAIL: Multiple compinit calls found (26355)
This indicates redundant completion initialization
Compinit calls found:
+TRACE+ /Users/s-a-c/.config/zsh/.zshenv:297 typeset -f compinit
+TRACE+ /Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/ohmyzsh/ohmyzsh/master/oh-my-zsh.sh:79 autoload -U compaudit compinit zrecompile
+TRACE+ /Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/ohmyzsh/ohmyzsh/master/oh-my-zsh.sh:127 compinit -i -d /Users/s-a-c/.cache/zsh/.zcompdump-5.9
+TRACE+ compinit:1 [[ -z '' ]]
+TRACE+ compinit:1 _COMPINIT_DONE=1 
[2025-08-31 07:59:47] [FAIL] test-summary-badge-preplugin - Exit code: 1
[2025-08-31 07:59:47] [FAIL] test-summary-badge-preplugin - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
FAIL preplugin delta not in summary badge
[2025-08-31 07:59:47] [FAIL] test-helpers - Exit code: 1
[2025-08-31 07:59:47] [FAIL] test-helpers - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[2025-08-31 07:59:47] [FAIL] test-async-compile - Exit code: 1
[2025-08-31 07:59:47] [FAIL] test-async-compile - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[2025-08-31 07:59:47] [FAIL] test-completion-management - Exit code: 1
[2025-08-31 07:59:47] [FAIL] test-completion-management - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[2025-08-31 07:59:47] [FAIL] test-comprehensive-detection - Exit code: 1
[2025-08-31 07:59:47] [FAIL] test-comprehensive-detection - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
========================================================
Comprehensive Detection Test Suite
========================================================
Timestamp: 2025-08-31 06:59:47 UTC
Execution Context: executed
Log File: /Users/s-a-c/dotfiles/dot-config/zsh/logs/2025-08-31/test-comprehensive-detection.log

=== System-wide Detection Validation ===
Running test 1: Detection System Core Functionality
    ✓ is_being_sourced is available and callable
    ✓ is_being_executed is available and callable
    ✓ get_execution_context is available and callable
    ✗ handle_error is not available
    ✗ safe_exit is not available
    ✗ context_echo is not available
    ✗ conditional_output is not available
    ✗ safe_export is not available
    ✗ context_cleanup is not available
    📊 Core functionality: 3/9 functions working
  ✗ FAIL: Detection System Core Functionality
Running test 2: Detection Accuracy in Current Context
    Current execution context: executed
    ✓ Consistent detection: sourced=false, executed=true
    ✓ Context string matches executed state
  ✓ PASS: Detection Accuracy in Current Context

=== Cross-context Behavior Validation ===
Running test 3: Error Handling Cross Context
    Testing error handling in executed context
  ✗ FAIL: Error Handling Cross Context
Running test 4: Environment Management Cross Context
test_environment_management_cross_context:6: command not found: safe_export
    ✗ Environment management failed in executed context
  ✗ FAIL: Environment Management Cross Context
Running test 5: Output Control Cross Context
    ✗ 'Both' filter failed to produce output in executed context
  ✗ FAIL: Output Control Cross Context

=== Integration with Other Test Suites ===
Running test 6: Integration with Other Test Suites
    ⚠ No test suites found for integration testing
  ✓ PASS: Integration with Other Test Suites

=== Performance and Reliability Validation ===
Running test 7: Detection Performance
    📊 Detection performance: 300 function calls in .009900000s
    ✓ Detection performance is acceptable
  ✓ PASS: Detection Performance
Running test 8: Detection Reliability
    📊 Detection reliability: 10/10 consistent results
  ✓ PASS: Detection Reliability

=== System Integration Validation ===
Running test 9: Logging System Integration
    ✓ Log directory exists: /Users/s-a-c/dotfiles/dot-config/zsh/logs/2025-08-31
    ⚠ Detection log file not found (may be expected)
  ✓ PASS: Logging System Integration
Running test 10: Function Availability System
    ✓ is_being_sourced is available in current shell
    ✓ is_being_executed is available in current shell
    ✓ get_execution_context is available in current shell
    ✗ handle_error is not available
    ✗ context_echo is not available
    ✗ safe_export is not available
    📊 Function availability: 3/6 functions available
  ✗ FAIL: Function Availability System

========================================================
Test Results Summary
========================================================
Total Tests: 10
Passed: 5
Failed: 5
Success Rate: 50%

❌ 5 comprehensive detection test(s) failed.
[2025-08-31 07:59:47] [FAIL] test-config-consistency - Exit code: 1
[2025-08-31 07:59:47] [FAIL] test-config-consistency - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[2025-08-31 07:59:47] [FAIL] test-config-validation - Exit code: 1
[2025-08-31 07:59:47] [FAIL] test-config-validation - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[2025-08-31 07:59:47] [PASS] test-consistency-quick - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
========================================================
Quick Consistency Validation
========================================================
Test 1: Checking for double-hash comments...
✅ No double-hash comments found
Test 2: Checking shebang consistency...
find: /Users/s-a-c/dotfiles/dot-config/zsh/.zshrc.d/00-core: No such file or directory
✅ All shebangs are consistent
Test 3: Checking function declarations...
✅ No 'function' keyword usage found
Test 4: Checking for tab characters...
✅ No tab characters found

========================================================
Consistency Results
========================================================
Tests passed: 4/4
Consistency Score: 100%
🏆 PERFECT: 100% consistency achieved!
[2025-08-31 07:59:48] [FAIL] test-consistency-validation - Exit code: 1
[2025-08-31 07:59:48] [FAIL] test-consistency-validation - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[2025-08-31 07:59:48] [FAIL] test-context-config - Exit code: 1
[2025-08-31 07:59:48] [FAIL] test-context-config - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[2025-08-31 07:59:48] [FAIL] test-detection-integration - Exit code: 1
[2025-08-31 07:59:48] [FAIL] test-detection-integration - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
========================================================
Detection Integration Test Suite
========================================================
Timestamp: 2025-08-31 06:59:48 UTC
Execution Context: executed
Log File: /Users/s-a-c/dotfiles/dot-config/zsh/logs/2025-08-31/test-detection-integration.log

=== Test Script Integration Tests ===
Running test 1: Existing Test Scripts Use Detection
    Integration status: 0/0 test files use detection
  ✗ FAIL: Existing Test Scripts Use Detection
Running test 2: Test Scripts Have Correct Shebang
    Shebang status: 0/0 test files have correct shebang
  ✓ PASS: Test Scripts Have Correct Shebang

=== Helper Script Integration Tests ===
Running test 3: Bin Scripts Use Detection
    ⚠ /Users/s-a-c/dotfiles/dot-config/zsh/bin/zsh-config-backup does not use detection system
    ⚠ /Users/s-a-c/dotfiles/dot-config/zsh/bin/zsh-performance-baseline does not use detection system
    ✓ /Users/s-a-c/dotfiles/dot-config/zsh/bin/macos-defaults-setup.zsh uses detection system
    Integration status: 1/3 bin scripts use detection
  ✓ PASS: Bin Scripts Use Detection
Running test 4: Bin Scripts Have Correct Shebang
    ✓ /Users/s-a-c/dotfiles/dot-config/zsh/bin/macos-defaults-setup.zsh has correct shebang
    Shebang status: 1/1 bin scripts have correct shebang
  ✓ PASS: Bin Scripts Have Correct Shebang

=== Configuration Script Integration Tests ===
Running test 5: Config Scripts Source Detection
    No applicable config files found
  ✓ PASS: Config Scripts Source Detection

=== Detection System Availability Tests ===
Running test 6: Detection Functions Globally Available
    ✓ is_being_sourced is available
    ✓ is_being_executed is available
    ✓ get_execution_context is available
    ✗ handle_error is not available
    ✗ safe_exit is not available
    ✗ context_echo is not available
    ✗ safe_export is not available
    ✗ context_cleanup is not available
    Availability status: 3/8 functions are globally available
  ✗ FAIL: Detection Functions Globally Available
Running test 7: Detection System Initialization
    ASSERTION FAILED: Detection file should export functions
    File: /Users/s-a-c/dotfiles/dot-config/zsh/.zshrc.d/00_01-source-execute-detection.zsh
    Pattern: export -f
  ✗ FAIL: Detection System Initialization

=== Integration Consistency Tests ===
Running test 8: Consistent Error Handling Patterns
  ✓ PASS: Consistent Error Handling Patterns

========================================================
Test Results Summary
========================================================
Total Tests: 8
Passed: 5
Failed: 3
Success Rate: 62%

❌ 3 detection integration test(s) failed.
[2025-08-31 07:59:48] [FAIL] test-doc-headers - Exit code: 1
[2025-08-31 07:59:48] [FAIL] test-doc-headers - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[2025-08-31 07:59:48] [FAIL] test-documentation - Exit code: 1
[2025-08-31 07:59:48] [FAIL] test-documentation - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[2025-08-31 07:59:48] [FAIL] test-env-context - Exit code: 1
[2025-08-31 07:59:48] [FAIL] test-env-context - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
========================================================
Environment Context Test Suite
========================================================
Timestamp: 2025-08-31 06:59:48 UTC
Execution Context: executed
Log File: /Users/s-a-c/dotfiles/dot-config/zsh/logs/2025-08-31/test-env-context.log

=== Environment Function Tests ===
Running test 1: Environment Functions Exist
    ASSERTION FAILED: Function 'safe_export' should exist
  ✗ FAIL: Environment Functions Exist
Running test 2: Safe Export Global Scope
test_safe_export_global_scope:6: command not found: safe_export
    ASSERTION FAILED: Global export should set variable correctly
    Expected: 'global_test_1756623588'
    Actual: ''
  ✓ PASS: Safe Export Global Scope
Running test 3: Safe Export Local Scope
test_safe_export_local_scope:6: command not found: safe_export
    ASSERTION FAILED: Local export should set variable when executed
    Expected: 'local_test_1756623588'
    Actual: ''
  ✓ PASS: Safe Export Local Scope
Running test 4: Safe Export Default Scope
test_safe_export_default_scope:6: command not found: safe_export
    ASSERTION FAILED: Default export should set variable correctly
    Expected: 'default_test_1756623588'
    Actual: ''
  ✓ PASS: Safe Export Default Scope
Running test 5: Safe Export Error Handling
  ✓ PASS: Safe Export Error Handling

=== Context Cleanup Tests ===
Running test 6: Context Cleanup Function Exists
    ASSERTION FAILED: Function 'context_cleanup' should exist
  ✗ FAIL: Context Cleanup Function Exists
Running test 7: Context Cleanup with Valid Function
test_context_cleanup_with_valid_function:15: command not found: context_cleanup
    ASSERTION FAILED: Cleanup should execute when script is executed
    Expected: 'cleanup_executed'
    Actual: ''
  ✓ PASS: Context Cleanup with Valid Function
Running test 8: Context Cleanup with Invalid Function
  ✓ PASS: Context Cleanup with Invalid Function

=== Environment Logging Tests ===
Running test 9: Environment Operation Logging
test_environment_operation_logging:6: command not found: safe_export
    WARNING: Detection log file not found
  ✓ PASS: Environment Operation Logging

=== Context Awareness Tests ===
Running test 10: Environment Context Awareness
  Testing in context: executed
  ✓ PASS: Environment Context Awareness
Running test 11: Environment Integration with Detection
    ASSERTION FAILED: Function 'safe_export' should exist
  ✗ FAIL: Environment Integration with Detection

=== Variable Scope Tests ===
Running test 12: Variable Scope Behavior
test_variable_scope_behavior:6: command not found: safe_export
    ASSERTION FAILED: Variable should be accessible after export
    Expected: 'scope_test_1756623588'
    Actual: ''
  ✓ PASS: Variable Scope Behavior

========================================================
Test Results Summary
========================================================
Total Tests: 12
Passed: 9
Failed: 3
Success Rate: 75%

❌ 3 environment context test(s) failed.
[2025-08-31 07:59:48] [FAIL] test-env-sanitize - Exit code: 1
[2025-08-31 07:59:48] [FAIL] test-env-sanitize - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[2025-08-31 07:59:48] [FAIL] test-error-handling-context - Exit code: 1
[2025-08-31 07:59:48] [FAIL] test-error-handling-context - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
========================================================
Error Handling Context Test Suite
========================================================
Timestamp: 2025-08-31 06:59:48 UTC
Execution Context: executed
Log File: /Users/s-a-c/dotfiles/dot-config/zsh/logs/2025-08-31/test-error-handling-context.log

=== Error Handling Function Tests ===
Running test 1: Error Handling Functions Exist
    ASSERTION FAILED: Function 'handle_error' should exist
  ✗ FAIL: Error Handling Functions Exist
Running test 2: Handle Error Message Formatting
  ✓ PASS: Handle Error Message Formatting
Running test 3: Safe Exit Context Awareness
  ✓ PASS: Safe Exit Context Awareness
Running test 4: Exit or Return Behavior
  ✓ PASS: Exit or Return Behavior

=== Error Context Preservation Tests ===
Running test 5: Error Context Information
  ✗ FAIL: Error Context Information
Running test 6: Function Stack Preservation
  ✓ PASS: Function Stack Preservation

=== Error Logging Tests ===
Running test 7: Error Logging Functionality
  ✓ PASS: Error Logging Functionality

=== Integration Tests ===
Running test 8: Error Handling Integration
    ASSERTION FAILED: Function 'handle_error' should exist
  ✗ FAIL: Error Handling Integration
Running test 9: Cross Context Compatibility
  Testing in context: executed
    ASSERTION FAILED: Function 'handle_error' should exist
  ✗ FAIL: Cross Context Compatibility

========================================================
Test Results Summary
========================================================
Total Tests: 9
Passed: 5
Failed: 4
Success Rate: 55%

❌ 4 error handling test(s) failed.
[2025-08-31 08:00:13] [FAIL] test-final-validation - Exit code: 1
[2025-08-31 08:00:13] [FAIL] test-final-validation - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[2025-08-31 08:00:14] [PASS] test-git-cache - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
==============================================================================
Git Configuration Caching Test Suite
Started: 2025-08-31T07:00:14Z
==============================================================================

❌ Git caching system not found at expected location

🧪 Running git cache functionality tests...

✅ Test 1: Git cache directory exists - PASSED
   Details: Cache directory found at /Users/s-a-c/.config/zsh/.cache
❌ Test 2: Git wrapper function loaded - FAILED
   Error: git() function not found
❌ Test 3: Lazy cache function exists - FAILED
   Error: _cache_git_config() function not found
❌ Test 4: Git refresh function exists - FAILED
   Error: git-refresh-config() function not found
❌ Test 5: Cache generation on git command - FAILED
   Error: Cache file not created after git command
❌ Test 6: Cache content format - FAILED
   Error: No cache file to test
❌ Test 7: Cache timestamp validation - FAILED
   Error: No cache file to test
❌ Test 8: Cache refresh functionality - FAILED
   Error: Could not create cache file for testing
❌ Test 9: Environment variable export - FAILED
   Error: Only 0/4 git environment variables are set
❌ Test 10: Git command trigger patterns - FAILED
   Error: None of the expected commands triggered cache creation

==============================================================================
Test Results Summary
==============================================================================
Total Tests: 10
Passed: 1
Failed: 9
Success Rate: 10%

❌ Some tests failed. Review the details above.

Failed Tests:

==============================================================================
Git cache test completed at 2025-08-31T07:00:14Z
==============================================================================
[2025-08-31 08:00:26] [FAIL] test-integration - Exit code: 1
[2025-08-31 08:00:26] [FAIL] test-integration - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[2025-08-31 08:00:34] [PASS] test-loading - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
=== Testing load-shell-fragments behavior ===
[PATH-GUARANTEE] Safe command wrappers initialized
# ++++++ /Users/s-a-c/dotfiles/dot-config/zsh/.zshrc.pre-plugins.d/00_10-fzf-setup.zsh ++++++++++++++++++++++++++++++++++++
# ++++++ /Users/s-a-c/.local/share/fzf/fzf.zsh ++++++++++++++++++++++++++++++++++++
# FZF integration loaded from /opt/homebrew, config path: /Users/s-a-c/.fzf
# ++++++ /Users/s-a-c/dotfiles/dot-config/zsh/.zshrc.pre-plugins.d/00_30-lazy-loading-framework.zsh ++++++++++++++++++++++++++++++++++++
# [performance] Loading lazy loading framework
# [performance] Lazy loading framework loaded
# ------ /Users/s-a-c/dotfiles/dot-config/zsh/.zshrc.pre-plugins.d/00_30-lazy-loading-framework.zsh --------------------------------
(eval):1: command not found: -t
(eval):1: command not found: -t
(eval):1: command not found: -t
(eval):1: command not found: -t
(eval):1: command not found: -t
(eval):1: command not found: -t
(eval):1: command not found: -t
(eval):1: command not found: -t
(eval):1: command not found: -t
(eval):1: command not found: -t
(eval):1: command not found: -t
(eval):1: command not found: -t
(eval):1: command not found: -t
(eval):1: command not found: -t
(eval):1: command not found: -t
(eval):1: command not found: -t
(eval):1: command not found: -t
(eval):1: command not found: -t
(eval):1: command not found: -t
(eval):1: command not found: -t
# ++++++ /Users/s-a-c/dotfiles/dot-config/zsh/.zshrc.pre-plugins.d/10_10-nvm-npm-fix.zsh ++++++++++++++++++++++++++++++++++++
# Added Bun to PATH for zsh-abbr dependencies
# NVM detected - NPM_CONFIG_PREFIX kept unset for compatibility
# ++++++ /Users/s-a-c/dotfiles/dot-config/zsh/.zshrc.pre-plugins.d/10_20-macos-defaults-deferred.zsh ++++++++++++++++++++++++++++++++++++
# ++++++ /Users/s-a-c/dotfiles/dot-config/zsh/.zshrc.pre-plugins.d/10_30-lazy-direnv.zsh ++++++++++++++++++++++++++++++++++++
# [lazy-direnv] Lazy direnv wrapper initialized
# ++++++ /Users/s-a-c/dotfiles/dot-config/zsh/.zshrc.pre-plugins.d/10_40-lazy-git-config.zsh ++++++++++++++++++++++++++++++++++++
# [lazy-git-config] git not found, skipping
# ++++++ /Users/s-a-c/dotfiles/dot-config/zsh/.zshrc.pre-plugins.d/10_50-lazy-gh-copilot.zsh ++++++++++++++++++++++++++++++++++++
# [lazy-gh-copilot] Lazy GitHub Copilot wrapper initialized
# ++++++ /Users/s-a-c/dotfiles/dot-config/zsh/.zshrc.pre-plugins.d/20_10-ssh-agent-core.zsh ++++++++++++++++++++++++++++++++++++
# [security] Loading core SSH agent management
# [security] Core SSH agent management loaded
# ------ /Users/s-a-c/dotfiles/dot-config/zsh/.zshrc.pre-plugins.d/20_10-ssh-agent-core.zsh --------------------------------
# ++++++ /Users/s-a-c/dotfiles/dot-config/zsh/.zshrc.pre-plugins.d/20_11-ssh-agent-security.zsh ++++++++++++++++++++++++++++++++++++
# [security] Loading advanced SSH agent security
# [security] Advanced SSH agent security loaded
# ------ /Users/s-a-c/dotfiles/dot-config/zsh/.zshrc.pre-plugins.d/20_11-ssh-agent-security.zsh --------------------------------
compinit:4: command not found: compinit
/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/ohmyzsh/ohmyzsh/master/lib/directories.zsh:34: command not found: compdef
/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/unixorn/rake-completion.zshplugin/___/rake_completion.plugin.zsh:16: command not found: compdef
/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/unixorn/jpb.zshplugin/___/jpb.plugin.zsh:702: command not found: compdef
/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/unixorn/jpb.zshplugin/___/jpb.plugin.zsh:708: command not found: compdef
/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/unixorn/jpb.zshplugin/___/jpb.plugin.zsh:715: command not found: compdef
/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/unixorn/jpb.zshplugin/___/jpb.plugin.zsh:737: command not found: compdef
/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/unixorn/jpb.zshplugin/___/jpb.plugin.zsh:750: command not found: compdef
# ++++++ /Users/s-a-c/.fzf/fzf.zsh ++++++++++++++++++++++++++++++++++++
/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/ohmyzsh/ohmyzsh/master/plugins/pip/pip.plugin.zsh:123: command not found: compdef
/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/ohmyzsh/ohmyzsh/master/plugins/pip/pip.plugin.zsh:129: command not found: compdef
/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/ohmyzsh/ohmyzsh/master/plugins/pip/pip.plugin.zsh:135: command not found: compdef
complete:13: command not found: compdef
/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/ohmyzsh/ohmyzsh/master/plugins/chruby/chruby.plugin.zsh:83: command not found: compdef
/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh:62: command not found: zsh_loaded
Creating a zgenom save
# ++++++ /Users/s-a-c/.fzf/fzf.zsh ++++++++++++++++++++++++++++++++++++
# ++++++ /Users/s-a-c/.zshrc.add-plugins.d/010-add-plugins.zsh ++++++++++++++++++++++++++++++++++++
# [add-plugins] Optimal plugin loading sequence complete (14 entries)
-- zgenom: Creating `/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh` ...
-- zgenom: Compiling files ...
Some files in ~/.zshrc.add-plugins.d updated; creating a new init.zsh from plugin list in .config/zsh/.zgen-setup and plugins dir
Creating a zgenom save
# ++++++ /Users/s-a-c/.fzf/fzf.zsh ++++++++++++++++++++++++++++++++++++
# [add-plugins] Already loaded, skipping to prevent infinite loop
-- zgenom: Creating `/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh` ...
-- zgenom: Compiling files ...
# [security] Core plugin integrity verification loaded
# ------ /Users/s-a-c/dotfiles/dot-config/zsh/.zshrc.d/00_20-plugin-integrity-core.zsh --------------------------------
# [security] Advanced plugin integrity verification loaded
# ------ /Users/s-a-c/dotfiles/dot-config/zsh/.zshrc.d/00_21-plugin-integrity-advanced.zsh --------------------------------
# ++++++ /Users/s-a-c/dotfiles/dot-config/zsh/.zshrc.d/30_30-prompt.zsh ++++++++++++++++++++++++++++++++++++
# [prompt-ui] Setting up prompt and UI configurations
# [ui.bullet-train]
# [ui.powerlevel10k]
# [ui.starship]
# [ui.colorize]
# [ui.vi-mode]
# [ui.carapace]
# [ui.thefuck]
# [ui.completion-styles]
# [ui.nvm-omz]
# [prompt] Starship prompt initialized
# ++++++ /Users/s-a-c/dotfiles/dot-config/zsh/.zshrc.Darwin.d/025-iterm2-shell-integration.zsh ++++++++++++++++++++++++++++++++++++
# [iterm2-shell-integration] Starting iTerm2 shell integration (macOS)
# [iterm2-shell-integration] Skipping - non-interactive shell or not macOS
# [iterm2-shell-integration] iTerm2 shell integration complete (macOS)
# ++++++ /Users/s-a-c/dotfiles/dot-config/zsh/.zshrc.Darwin.d/100-macos-defaults.zsh ++++++++++++++++++++++++++++++++++++
Warning: Numbered files detected - check for redirection typos
# ++++++ /Users/s-a-c/dotfiles/dot-config/zsh/.p10k.zsh ++++++++++++++++++++++++++++++++++++

Current SSH Keys:
256 SHA256:2925ZCutAr6zy/xpYt1IZch74+sSBiTcrgzkr+bXBhY embrace.s0ul+s-a-c@gmail.com (ED25519)

]2;BASEDIR="${ZDOTDIR:-$HOME}/.config/zsh" ]1;]2;echo -e "
1. What load-shell-fragments sees in .zshrc.pre-plugins.d:"]1;
1. What load-shell-fragments sees in .zshrc.pre-plugins.d:
]2;eza --group-directories-first -la "$BASEDIR/.zshrc.pre-plugins.d/"]1;[94mAlias tip: [1;94mls -la "$BASEDIR/.zshrc.pre-plugins.d/"[0m
"/Users/s-a-c/dotfiles/dot-config/zsh/.config/zsh/.zshrc.pre-plugins.d/": No such file or directory (os error 2)
]2;echo -e "
2. Files that should be loaded (recursive):"]1;
2. Files that should be loaded (recursive):
]2;find "$BASEDIR/.zshrc.pre-plugins.d/" -name "*.zsh" | sort]1;find: /Users/s-a-c/dotfiles/dot-config/zsh/.config/zsh/.zshrc.pre-plugins.d/: No such file or directory
]2;echo -e "
3. What load-shell-fragments actually loads (non-recursive):"]1;
3. What load-shell-fragments actually loads (non-recursive):
]2;for item in $(/bin/ls -A "$BASEDIR/.zshrc.pre-plugins.d/"); do; if [ -r  ]; ;]1;ls: /Users/s-a-c/dotfiles/dot-config/zsh/.config/zsh/.zshrc.pre-plugins.d/: No such file or directory
]2;echo -e "
4. Same test for .zshrc.d:"]1;
4. Same test for .zshrc.d:
]2;echo "Directory contents:"]1;Directory contents:
]2;eza --group-directories-first -la "$BASEDIR/.zshrc.d/"]1;[94mAlias tip: [1;94mls -la "$BASEDIR/.zshrc.d/"[0m
"/Users/s-a-c/dotfiles/dot-config/zsh/.config/zsh/.zshrc.d/": No such file or directory (os error 2)
]2;echo -e "
Files that should be loaded (recursive):"]1;
Files that should be loaded (recursive):
]2;find "$BASEDIR/.zshrc.d/" -name "*.zsh" | sort]1;find: /Users/s-a-c/dotfiles/dot-config/zsh/.config/zsh/.zshrc.d/: No such file or directory
]2;echo -e "
What load-shell-fragments actually loads:"]1;
What load-shell-fragments actually loads:
]2;for item in $(/bin/ls -A "$BASEDIR/.zshrc.d/"); do; if [ -r  ]; then;  ; else]1;ls: /Users/s-a-c/dotfiles/dot-config/zsh/.config/zsh/.zshrc.d/: No such file or directory
[2025-08-31 08:00:34] [PASS] test-minimal-startup - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
Loading minimal ZSH configuration...
Minimal ZSH configuration loaded successfully
Ready for interactive use
[2025-08-31 08:00:34] [FAIL] test-monitoring - Exit code: 1
[2025-08-31 08:00:34] [FAIL] test-monitoring - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[2025-08-31 08:00:34] [PASS] test-no-duplication - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[2025-08-31 08:00:34] [FAIL] test-output-control - Exit code: 1
[2025-08-31 08:00:34] [FAIL] test-output-control - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
========================================================
Output Control Test Suite
========================================================
Timestamp: 2025-08-31 07:00:34 UTC
Execution Context: executed
Log File: /Users/s-a-c/dotfiles/dot-config/zsh/logs/2025-08-31/test-output-control.log

=== Output Control Function Tests ===
Running test 1: Output Control Functions Exist
    ASSERTION FAILED: Function 'context_echo' should exist
  ✗ FAIL: Output Control Functions Exist
Running test 2: Context     zsh_debug_echo INFO Level
    ASSERTION FAILED: INFO output should contain message
    Haystack: ''
    Needle: 'Test info message 1756623634'
  ✗ FAIL: Context     zsh_debug_echo INFO Level
Running test 3: Context     zsh_debug_echo WARN Level
    ASSERTION FAILED: WARN output should contain message
    Haystack: 'test_context_echo_warn_level:3: command not found: context_echo'
    Needle: 'Test warning message 1756623634'
  ✗ FAIL: Context     zsh_debug_echo WARN Level
Running test 4: Context     zsh_debug_echo ERROR Level
    ASSERTION FAILED: ERROR output should contain message
    Haystack: 'test_context_echo_error_level:3: command not found: context_echo'
    Needle: 'Test error message 1756623634'
  ✗ FAIL: Context     zsh_debug_echo ERROR Level
Running test 5: Context     zsh_debug_echo Debug Mode
    ASSERTION FAILED: Debug output should contain level
    Haystack: ''
    Needle: 'INFO'
  ✓ PASS: Context     zsh_debug_echo Debug Mode

=== Conditional Output Tests ===
Running test 6: Conditional Output Both
    ASSERTION FAILED: Both filter should always output message
    Haystack: ''
    Needle: 'Both context message 1756623634'
  ✗ FAIL: Conditional Output Both
Running test 7: Conditional Output Sourced Filter
  ✓ PASS: Conditional Output Sourced Filter
Running test 8: Conditional Output Executed Filter
    ASSERTION FAILED: Executed filter should output when executed
    Haystack: ''
    Needle: 'Executed context message 1756623634'
  ✗ FAIL: Conditional Output Executed Filter
Running test 9: Conditional Output Default Behavior
    ASSERTION FAILED: Default behavior should output message
    Haystack: ''
    Needle: 'Default behavior message 1756623634'
  ✗ FAIL: Conditional Output Default Behavior

=== Output Logging Tests ===
Running test 10: Context     zsh_debug_echo Logging
    WARNING: Detection log file not found
  ✓ PASS: Context     zsh_debug_echo Logging

=== Output Stream Tests ===
Running test 11: Output Stream Routing
    ASSERTION FAILED: INFO should go to stdout
    Haystack: ''
    Needle: 'Info stream test'
    ASSERTION FAILED: WARN should go to stderr
    Haystack: 'test_output_stream_routing:14: command not found: context_echo'
    Needle: 'Warn stream test'
    ASSERTION FAILED: ERROR should go to stderr
    Haystack: 'test_output_stream_routing:18: command not found: context_echo'
    Needle: 'Error stream test'
  ✗ FAIL: Output Stream Routing

=== Context Awareness Tests ===
Running test 12: Output Context Awareness
  Current context: executed
  ✓ PASS: Output Context Awareness
Running test 13: Output Integration with Detection
    ASSERTION FAILED: Function 'context_echo' should exist
  ✗ FAIL: Output Integration with Detection

========================================================
Test Results Summary
========================================================
Total Tests: 13
Passed: 4
Failed: 9
Success Rate: 30%

❌ 9 output control test(s) failed.
[2025-08-31 08:00:34] [FAIL] test-plugin-metadata - Exit code: 1
[2025-08-31 08:00:34] [FAIL] test-plugin-metadata - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[2025-08-31 08:00:34] [FAIL] test-project-setup - Exit code: 1
[2025-08-31 08:00:34] [FAIL] test-project-setup - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[2025-08-31 08:00:34] [PASS] test-recursive-loading - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
=== Testing recursive load-shell-fragments ===
Testing .zshrc.pre-plugins.d:
Loading direct .zsh files from .zshrc.pre-plugins.d:
  Would load: .zshrc.pre-plugins.d/00_00-critical-path-fix.zsh
  Would load: .zshrc.pre-plugins.d/00_01-path-resolution-fix.zsh
  Would load: .zshrc.pre-plugins.d/00_05-path-guarantee.zsh
  Would load: .zshrc.pre-plugins.d/00_10-fzf-setup.zsh
  Would load: .zshrc.pre-plugins.d/00_30-lazy-loading-framework.zsh
  Would load: .zshrc.pre-plugins.d/03-macos-defaults-deferred.zsh
  Would load: .zshrc.pre-plugins.d/04-plugin-deferred-loading.zsh
  Would load: .zshrc.pre-plugins.d/05-environment-sanitization.zsh
  Would load: .zshrc.pre-plugins.d/10_10-nvm-npm-fix.zsh
  Would load: .zshrc.pre-plugins.d/10_20-macos-defaults-deferred.zsh
  Would load: .zshrc.pre-plugins.d/10_30-lazy-direnv.zsh
  Would load: .zshrc.pre-plugins.d/10_40-lazy-git-config.zsh
  Would load: .zshrc.pre-plugins.d/10_50-lazy-gh-copilot.zsh
  Would load: .zshrc.pre-plugins.d/20_10-ssh-agent-core.zsh
  Would load: .zshrc.pre-plugins.d/20_11-ssh-agent-security.zsh

Testing .zshrc.d:
Loading direct .zsh files from .zshrc.d:
  Would load: .zshrc.d/00_01-source-execute-detection.zsh
  Would load: .zshrc.d/00_20-plugin-integrity-core.zsh
  Would load: .zshrc.d/00_21-plugin-integrity-advanced.zsh
  Would load: .zshrc.d/00_60-options.zsh
  Would load: .zshrc.d/20_04-essential.zsh
  Would load: .zshrc.d/30_30-prompt.zsh
[2025-08-31 08:00:34] [FAIL] test-review-cycles - Exit code: 1
[2025-08-31 08:00:34] [FAIL] test-review-cycles - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[2025-08-31 08:00:40] [FAIL] test-script-retrofitting - Exit code: 1
[2025-08-31 08:00:40] [FAIL] test-script-retrofitting - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
========================================================
Script Retrofitting Test Suite
========================================================
Timestamp: 2025-08-31 07:00:34 UTC
Execution Context: executed
Log File: /Users/s-a-c/dotfiles/dot-config/zsh/logs/2025-08-31/test-script-retrofitting.log

=== Helper Library Retrofitting Tests ===
Running test 1: Standard Helpers Retrofitting
    ⚠ Script not found: 00_00-standard-helpers.zsh
  ✗ FAIL: Standard Helpers Retrofitting
Running test 2: Utility Functions Retrofitting
    ⚠ Script not found: 00_07-utility-functions.zsh
  ✗ FAIL: Utility Functions Retrofitting
Running test 3: Core Functions Retrofitting
    ⚠ Script not found: 00_04-functions-core.zsh
  ✗ FAIL: Core Functions Retrofitting

=== Setup Script Retrofitting Tests ===
Running test 4: macOS Defaults Setup Retrofitting
    ✓ macos-defaults-setup.zsh: Correct shebang
    ✓ macos-defaults-setup.zsh: Sources detection system
    ⚠ macos-defaults-setup.zsh: Does not use detection functions
    ⚠ macos-defaults-setup.zsh: Does not use context-aware error handling
    ✓ macos-defaults-setup.zsh: Uses context-aware execution pattern
    📊 macos-defaults-setup.zsh: Retrofitting score: 3/5 (60%)
  ✓ PASS: macOS Defaults Setup Retrofitting
Running test 5: Backup Script Retrofitting
    ⚠ zsh-config-backup: Incorrect or missing shebang
    ⚠ zsh-config-backup: Does not source detection system
    ⚠ zsh-config-backup: Does not use detection functions
    ⚠ zsh-config-backup: Does not use context-aware error handling
    ✓ zsh-config-backup: Uses context-aware execution pattern
    📊 zsh-config-backup: Retrofitting score: 1/5 (20%)
  ✗ FAIL: Backup Script Retrofitting
Running test 6: Performance Baseline Retrofitting
    ⚠ zsh-performance-baseline: Incorrect or missing shebang
    ⚠ zsh-performance-baseline: Does not source detection system
    ⚠ zsh-performance-baseline: Does not use detection functions
    ⚠ zsh-performance-baseline: Does not use context-aware error handling
    ✓ zsh-performance-baseline: Uses context-aware execution pattern
    📊 zsh-performance-baseline: Retrofitting score: 1/5 (20%)
  ✗ FAIL: Performance Baseline Retrofitting

=== Tool Script Retrofitting Tests ===
Running test 7: SSH Agent Script Retrofitting
    ⚠ Script not found: 10_15-ssh-agent-macos.zsh
  ✗ FAIL: SSH Agent Script Retrofitting
Running test 8: Development Tools Retrofitting
    ⚠ Script not found: 10_10-development-tools.zsh
  ✗ FAIL: Development Tools Retrofitting
Running test 9: Git Config Retrofitting
    ⚠ Script not found: 10_13-git-vcs-config.zsh
  ✗ FAIL: Git Config Retrofitting

=== Standalone Script Retrofitting Tests ===
Running test 10: Health Check Retrofitting
    ⚠ health-check.zsh: Incorrect or missing shebang
    ⚠ health-check.zsh: Does not source detection system
    ⚠ health-check.zsh: Does not use detection functions
    ⚠ health-check.zsh: Does not use context-aware error handling
    ⚠ health-check.zsh: Does not use context-aware execution pattern
    📊 health-check.zsh: Retrofitting score: 0/5 (0%)
  ✗ FAIL: Health Check Retrofitting
Running test 11: macOS Defaults Retrofitting
    ⚠ macos-defaults.zsh: Incorrect or missing shebang
    ⚠ macos-defaults.zsh: Does not source detection system
    ⚠ macos-defaults.zsh: Does not use detection functions
    ⚠ macos-defaults.zsh: Does not use context-aware error handling
    ⚠ macos-defaults.zsh: Does not use context-aware execution pattern
    📊 macos-defaults.zsh: Retrofitting score: 0/5 (0%)
  ✗ FAIL: macOS Defaults Retrofitting
Running test 12: Completion Scripts Retrofitting
    ⚠ No completion scripts found
  ✓ PASS: Completion Scripts Retrofitting

=== Retrofitting Coverage Analysis ===
Running test 13: Overall Retrofitting Coverage
    📊 Retrofitting Coverage Analysis:
    ==================================
    ✓ Analysis complete - see individual test results above
    ✓ Retrofitting is an ongoing process
    ✓ Scripts are gradually being updated with detection patterns
  ✓ PASS: Overall Retrofitting Coverage
Running test 14: Retrofitting Consistency
    ✓ Consistent shebang pattern found in       46 files
    ✓ Detection functions used in       38 files
    ✓ Context-aware error handling in       17 files
    ✓ Context-aware execution patterns in       37 files
    📊 Pattern consistency: 4/4 patterns (100%)
  ✓ PASS: Retrofitting Consistency

========================================================
Test Results Summary
========================================================
Total Tests: 14
Passed: 4
Failed: 10
Success Rate: 28%

❌ 10 script retrofitting test(s) failed.

Note: Retrofitting is an ongoing process. Some failures are expected
as scripts are gradually updated with detection patterns.
[2025-08-31 08:00:40] [PASS] test-secure-ssh-agent - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
# [test-secure-ssh] Starting SSH security test suite at 2025-08-31 07:00:40 UTC
# [test-secure-ssh] Working directory: /Users/s-a-c/dotfiles/dot-config/zsh
# [test-secure-ssh] Log file: /Users/s-a-c/.config/zsh/logs/2025-08-31/test-secure-ssh-20250831-070040.log
/Users/s-a-c/.config/zsh/.zshrc.pre-plugins.d/03-secure-ssh-agent.zsh:source:39: no such file or directory: /Users/s-a-c/.config/zsh/.zshrc.pre-plugins.d/03-secure-ssh-agent.zsh
[1;33m=== Secure SSH Agent Implementation Test Suite ===[0m
Testing actual secure SSH agent implementation...

[1;33mTest 1: Environment validation[0m
test_environment_validation:2: command not found: _validate_ssh_environment
Environment validation failed
[0;31m✗ FAIL: Environment validation failed[0m

[1;33mTest 2: Agent creation and validation[0m
test_agent_creation:17: command not found: _validate_agent_output
[0;31m✗ FAIL: Agent creation failed[0m

[1;33mTest 3: Environment file security[0m
[0;32m✓ PASS: Environment file properly secured[0m

[1;33mTest 4: Agent reuse functionality[0m
test_agent_reuse_logic:7: no such file or directory: 
chmod: : No such file or directory
[0;31m✗ FAIL: Agent reuse logic failed[0m

[1;33mTest 5: Lock file race condition prevention[0m
test_lock_file_mechanism:4: command not found: _acquire_ssh_lock
[0;31m✗ FAIL: Lock mechanism failed[0m

[1;33mTest 6: Agent output validation[0m
test_agent_output_validation:10: command not found: _validate_agent_output
[0;31m✗ FAIL: Agent output validation failed[0m

[1;33m=== Test Results Summary ===[0m
✗ Environment validation: FAIL
✗ Agent creation: FAIL
✓ File security: PASS
✗ Agent reuse: FAIL
✗ Lock mechanism: FAIL
✗ Output validation: FAIL

[0;31mSome tests failed. (1/6 passed)[0m
[1;33mReview the secure SSH agent implementation.[0m
# [test-secure-ssh] FAILURE: 5 tests failed
# [test-secure-ssh] Test environment cleaned up
# [test-secure-ssh] Test suite completed at 2025-08-31 07:00:40 UTC
[2025-08-31 08:00:40] [FAIL] test-security-audit - Exit code: 1
[2025-08-31 08:00:40] [FAIL] test-security-audit - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[2025-08-31 08:00:40] [PASS] test-source-execute-detection - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
/Users/s-a-c/dotfiles/dot-config/zsh/tests/2025-08-23/miscellany/test-source-execute-detection.zsh:484: command not found: context_run_main
[2025-08-31 08:00:41] [PASS] test-ssh-security - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
SSH Security Test Functions:
  ssh_agent_status  - Check current agent status
  test_ssh_security - Run full security test suite
[2025-08-31 08:00:41] [FAIL] test-startup-time - Exit code: 1
[2025-08-31 08:00:41] [FAIL] test-startup-time - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[2025-08-31 08:01:22] [PASS] test-lazy-loading - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
🧪 Testing Lazy Loading System for Heavy Tools
==============================================
📅 Test Started: 2025-08-31T07:00:41Z
📋 Log File: /Users/s-a-c/.config/zsh/logs/2025-08-31/test-lazy-loading_07-00-41.log

 1. Testing lazy direnv wrapper exists...
   ❌ Testing lazy direnv wrapper exists
 2. Testing lazy git config wrapper exists...
   ❌ Testing lazy git config wrapper exists
 3. Testing lazy GitHub Copilot wrapper exists...
   ❌ Testing lazy GitHub Copilot wrapper exists

🚀 Testing startup time with lazy loading enabled...
   Run 1: zsh -i -c 'exit' 2>&1  3.26s user 2.28s system 89% cpu 6.220 total
tail -1  0.00s user 0.00s system 0% cpu 6.220 total
grep -o '[0-9.]*s'  0.00s user 0.00s system 0% cpu 6.220 total
head -1  0.00s user 0.00s system 0% cpu 6.220 total
sed 's/s//'  0.00s user 0.00s system 0% cpu 6.220 total
Failed to measure
   Run 2: zsh -i -c 'exit' 2>&1  2.88s user 2.12s system 90% cpu 5.532 total
tail -1  0.00s user 0.00s system 0% cpu 5.532 total
grep -o '[0-9.]*s'  0.00s user 0.00s system 0% cpu 5.532 total
head -1  0.00s user 0.00s system 0% cpu 5.532 total
sed 's/s//'  0.00s user 0.00s system 0% cpu 5.532 total
Failed to measure
   Run 3: zsh -i -c 'exit' 2>&1  3.34s user 2.43s system 89% cpu 6.478 total
tail -1  0.00s user 0.00s system 0% cpu 6.478 total
grep -o '[0-9.]*s'  0.00s user 0.00s system 0% cpu 6.478 total
head -1  0.00s user 0.00s system 0% cpu 6.478 total
sed 's/s//'  0.00s user 0.00s system 0% cpu 6.478 total
Failed to measure
   ❌ Could not measure startup times

🔍 Testing lazy loading initialization in clean shell...
 5. Testing direnv lazy state initialized...
   ✅ Testing direnv lazy state initialized
 6. Testing git lazy state initialized...
   ❌ Testing git lazy state initialized
 7. Testing GitHub Copilot lazy state initialized...
   ✅ Testing GitHub Copilot lazy state initialized
 8. Testing direnv wrapper function available...
   ✅ Testing direnv wrapper function available
 9. Testing git wrapper function available...
   ✅ Testing git wrapper function available

⏱️  Testing deferred execution behavior...
[DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[PATH-GUARANTEE] Safe command wrappers initialized
# ++++++ /Users/s-a-c/dotfiles/dot-config/zsh/.zshrc.pre-plugins.d/00_10-fzf-setup.zsh ++++++++++++++++++++++++++++++++++++
# FZF integration loaded from /opt/homebrew, config path: /Users/s-a-c/.fzf
# ++++++ /Users/s-a-c/dotfiles/dot-config/zsh/.zshrc.pre-plugins.d/00_30-lazy-loading-framework.zsh ++++++++++++++++++++++++++++++++++++
# [performance] Loading lazy loading framework
# [performance] Lazy loading framework loaded
# ------ /Users/s-a-c/dotfiles/dot-config/zsh/.zshrc.pre-plugins.d/00_30-lazy-loading-framework.zsh --------------------------------
# ++++++ /Users/s-a-c/dotfiles/dot-config/zsh/.zshrc.pre-plugins.d/10_10-nvm-npm-fix.zsh ++++++++++++++++++++++++++++++++++++
# Added Bun to PATH for zsh-abbr dependencies
# NVM detected - NPM_CONFIG_PREFIX kept unset for compatibility
# ++++++ /Users/s-a-c/dotfiles/dot-config/zsh/.zshrc.pre-plugins.d/10_20-macos-defaults-deferred.zsh ++++++++++++++++++++++++++++++++++++
# ++++++ /Users/s-a-c/dotfiles/dot-config/zsh/.zshrc.pre-plugins.d/10_30-lazy-direnv.zsh ++++++++++++++++++++++++++++++++++++
# Lazy loading direnv due to .envrc presence
==============================================================================
Lazy Direnv Hook Initialization
Started: 2025-08-31T07:01:06Z
Triggered by: _lazy_direnv_chpwd
==============================================================================

✅ direnv hook initialized successfully

==============================================================================
Lazy direnv hook initialization completed at 2025-08-31T07:01:06Z
==============================================================================
# [lazy-direnv] Lazy direnv wrapper initialized
# ++++++ /Users/s-a-c/dotfiles/dot-config/zsh/.zshrc.pre-plugins.d/10_40-lazy-git-config.zsh ++++++++++++++++++++++++++++++++++++
# [lazy-git-config] git not found, skipping
# ++++++ /Users/s-a-c/dotfiles/dot-config/zsh/.zshrc.pre-plugins.d/10_50-lazy-gh-copilot.zsh ++++++++++++++++++++++++++++++++++++
# [lazy-gh-copilot] Lazy GitHub Copilot wrapper initialized
# ++++++ /Users/s-a-c/dotfiles/dot-config/zsh/.zshrc.pre-plugins.d/20_10-ssh-agent-core.zsh ++++++++++++++++++++++++++++++++++++
# [security] Loading core SSH agent management
# [security] Core SSH agent management loaded
# ------ /Users/s-a-c/dotfiles/dot-config/zsh/.zshrc.pre-plugins.d/20_10-ssh-agent-core.zsh --------------------------------
# ++++++ /Users/s-a-c/dotfiles/dot-config/zsh/.zshrc.pre-plugins.d/20_11-ssh-agent-security.zsh ++++++++++++++++++++++++++++++++++++
# [security] Loading advanced SSH agent security
# [security] Advanced SSH agent security loaded
# ------ /Users/s-a-c/dotfiles/dot-config/zsh/.zshrc.pre-plugins.d/20_11-ssh-agent-security.zsh --------------------------------
Creating a zgenom save
# ++++++ /Users/s-a-c/.zshrc.add-plugins.d/010-add-plugins.zsh ++++++++++++++++++++++++++++++++++++
# [add-plugins] Optimal plugin loading sequence complete (14 entries)
Some files in ~/.zshrc.add-plugins.d updated; creating a new init.zsh from plugin list in .config/zsh/.zgen-setup and plugins dir
Creating a zgenom save
# [add-plugins] Already loaded, skipping to prevent infinite loop
# [security] Core plugin integrity verification loaded
# ------ /Users/s-a-c/dotfiles/dot-config/zsh/.zshrc.d/00_20-plugin-integrity-core.zsh --------------------------------
# [security] Advanced plugin integrity verification loaded
# ------ /Users/s-a-c/dotfiles/dot-config/zsh/.zshrc.d/00_21-plugin-integrity-advanced.zsh --------------------------------
# ++++++ /Users/s-a-c/dotfiles/dot-config/zsh/.zshrc.d/30_30-prompt.zsh ++++++++++++++++++++++++++++++++++++
# [prompt-ui] Setting up prompt and UI configurations
# [ui.bullet-train]
# [ui.powerlevel10k]
# [ui.starship]
# [ui.colorize]
# [ui.vi-mode]
# [ui.carapace]
# [ui.thefuck]
# [ui.completion-styles]
# [ui.nvm-omz]
# [prompt] Starship prompt initialized
# ++++++ /Users/s-a-c/dotfiles/dot-config/zsh/.zshrc.Darwin.d/025-iterm2-shell-integration.zsh ++++++++++++++++++++++++++++++++++++
# [iterm2-shell-integration] Starting iTerm2 shell integration (macOS)
]1337;RemoteHost=s-a-c@StandAloneComplexs-MacBook-Pro.local]1337;CurrentDir=/tmp/lazy-loading-test-12094]1337;ShellIntegrationVersion=14;shell=zsh# [iterm2-shell-integration] iTerm2 integration initialized (macOS)
# [iterm2-shell-integration] iTerm2 shell integration complete (macOS)
# ++++++ /Users/s-a-c/dotfiles/dot-config/zsh/.zshrc.Darwin.d/100-macos-defaults.zsh ++++++++++++++++++++++++++++++++++++
Warning: Numbered files detected - check for redirection typos
# ++++++ /Users/s-a-c/dotfiles/dot-config/zsh/.p10k.zsh ++++++++++++++++++++++++++++++++++++

Current SSH Keys:
256 SHA256:2925ZCutAr6zy/xpYt1IZch74+sSBiTcrgzkr+bXBhY embrace.s0ul+s-a-c@gmail.com (ED25519)

10. Testing direnv not loaded on startup in directory with .envrc...
   ❌ Testing direnv not loaded on startup in directory with .envrc

🎯 Testing on-demand loading behavior...
11. Testing direnv loads when command is used...
   ✅ Testing direnv loads when command is used
12. Testing git config loads when git command is used...
   ❌ Testing git config loads when git command is used

📈 Testing performance improvements...
13. Testing direnv immediate execution removed...
grep: /Users/s-a-c/.config/zsh/.zshrc.d/10_10-development-tools.zsh: No such file or directory
   ✅ Testing direnv immediate execution removed
14. Testing git config immediate execution removed...
grep: /Users/s-a-c/.config/zsh/.zshrc.d/10_10-development-tools.zsh: No such file or directory
   ✅ Testing git config immediate execution removed
15. Testing GitHub Copilot immediate execution removed...
grep: /Users/s-a-c/.config/zsh/.zshrc.d/30_32-aliases.zsh: No such file or directory
   ✅ Testing GitHub Copilot immediate execution removed

📊 Testing logging and caching systems...
16. Testing date-named log directory exists...
   ✅ Testing date-named log directory exists
find: $log_dir: No such file or directory
17. Testing UTC-timestamped log files...
   ❌ Testing UTC-timestamped log files
   ⏭️  Skipping git cache tests - cache not yet created

🏁 Test Results Summary
======================
✅ Tests Passed: 9
❌ Tests Failed: 8
📊 Total Tests: 17

⚠️  Some lazy loading tests failed
❌ Task 2.2 needs attention
[2025-08-31 08:01:22] [FAIL] test-macos-defaults - Exit code: 1
[2025-08-31 08:01:22] [FAIL] test-macos-defaults - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
🧪 Testing Deferred macOS Defaults Execution System
==================================================
📅 Test Started: 2025-08-31T07:01:22Z
📋 Log File: /Users/s-a-c/.config/zsh/logs/2025-08-31/test-macos-defaults_07-01-22.log

1. Testing wrapper script existence and configuration...
   ✅ Wrapper script exists: /Users/s-a-c/.config/zsh/.zshrc.pre-plugins.d/03-macos-defaults-deferred.zsh
   ❌ Setup script missing or not executable: /Users/s-a-c/.config/zsh/bin/macos-defaults-setup.zsh
2. Testing first run behavior (no marker file)...
   🗑️  Removing existing marker file: /Users/s-a-c/.config/zsh/.macos-defaults-last-run
   📥 Sourcing wrapper function...
   ❌ Marker file not created on first run
   ❌ Log does not show setup script execution

3. Testing skip behavior (marker file exists and recent)...
   ⚠️  Creating marker file for skip test
   📥 Sourcing wrapper function (second time)...
   ❌ Log does not show skip behavior

4. Testing script modification detection...
   📥 Sourcing wrapper after script modification...
   ❌ Log does not show modification detection

5. Testing startup time with deferred execution...
   📊 Deferred execution time: 2ms
   ✅ Deferred execution is fast (< 100ms)

6. Testing log file organization...
   ✅ Date-named log directory exists: /Users/s-a-c/dotfiles/dot-config/zsh/logs/2025-08-31
   ✅ UTC-timestamped log files found: 17 files
     📄 deferred-macos-defaults_2025-08-31T06-59-38Z.log
     📄 deferred-macos-defaults_2025-08-31T06-59-39Z.log
     📄 deferred-macos-defaults_2025-08-31T06-59-49Z.log
     📄 deferred-macos-defaults_2025-08-31T06-59-55Z.log
     📄 deferred-macos-defaults_2025-08-31T07-00-01Z.log
     📄 deferred-macos-defaults_2025-08-31T07-00-07Z.log
     📄 deferred-macos-defaults_2025-08-31T07-00-15Z.log
     📄 deferred-macos-defaults_2025-08-31T07-00-21Z.log
     📄 deferred-macos-defaults_2025-08-31T07-00-26Z.log
     📄 deferred-macos-defaults_2025-08-31T07-00-41Z.log
     📄 deferred-macos-defaults_2025-08-31T07-00-47Z.log
     📄 deferred-macos-defaults_2025-08-31T07-00-52Z.log
     📄 deferred-macos-defaults_2025-08-31T07-00-59Z.log
     📄 deferred-macos-defaults_2025-08-31T07-01-06Z.log
     📄 deferred-macos-defaults_2025-08-31T07-01-11Z.log
     📄 deferred-macos-defaults_2025-08-31T07-01-16Z.log
     📄 deferred-macos-defaults_2025-08-31T07-01-22Z.log

🏁 Test Results Summary
======================
✅ Tests Passed: 4
❌ Tests Failed: 5
📊 Total Tests: 9

⚠️  Some deferred macOS defaults tests failed
❌ Task 2.1 needs attention
[2025-08-31 08:01:23] [FAIL] test-plugin-loading-simple - Exit code: 1
[2025-08-31 08:01:23] [FAIL] test-plugin-loading-simple - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
=== Simplified Plugin Loading Test Suite Started ===
Test timestamp: 20250831_080122
Original PWD: /Users/s-a-c/dotfiles/dot-config/zsh

=== Configuration Files ===
✅ PASS: Deferred loading script exists
❌ FAIL: Deferred loading script is executable
   Details: No execute permission

=== Backup Safety ===
/Users/s-a-c/dotfiles/dot-config/zsh/tests/2025-08-23/performance/test-plugin-loading-simple.zsh:70: no matches found: /Users/s-a-c/.config/zsh/.zgen-setup.backup-deferred-*
❌ FAIL: Configuration backup exists
   Details: No backup files found

=== Plugin Loading Analysis ===
/Users/s-a-c/dotfiles/dot-config/zsh/tests/2025-08-23/performance/test-plugin-loading-simple.zsh:81: no matches found: /Users/s-a-c/.config/zsh/.zgen-setup.backup-deferred-*
❌ FAIL: Plugin analysis possible
   Details: No backup file found for comparison

=== Deferred Configuration Content ===
✅ PASS: Utility plugins scheduled with delay
   Details: 1-second delay configured
✅ PASS: OMZ plugins scheduled with delay
   Details: 2-second delay configured
❌ FAIL: Git lazy wrapper function defined
   Details: Missing git wrapper
❌ FAIL: Docker lazy wrapper function defined
   Details: Missing docker wrapper

=== Main Configuration Cleanup ===
⚠️  Plugin git-extra-commands not found as deferred (may have different pattern)
⚠️  Plugin jpb.zshplugin not found as deferred (may have different pattern)
⚠️  Plugin warhol.plugin.zsh not found as deferred (may have different pattern)
⚠️  Plugin tumult.plugin.zsh not found as deferred (may have different pattern)
⚠️  Plugin docker-zsh not found as deferred (may have different pattern)
⚠️  Plugin 1password-op not found as deferred (may have different pattern)

=== Essential Plugins Preserved ===
✅ PASS: Essential plugin fast-syntax-highlighting preserved
   Details: Still loads immediately
✅ PASS: Essential plugin zsh-history-substring-search preserved
   Details: Still loads immediately
✅ PASS: Essential plugin zsh-autosuggestions preserved
   Details: Still loads immediately
✅ PASS: Essential plugin powerlevel10k preserved
   Details: Still loads immediately

=== Syntax Validation ===
✅ PASS: Deferred loading script syntax is valid
✅ PASS: Main configuration syntax is valid

=== Compliance Validation ===
✅ PASS: Working directory preserved
   Details: Current: /Users/s-a-c/dotfiles/dot-config/zsh
✅ PASS: UTC timestamped log file created
   Details: File: /Users/s-a-c/.config/zsh/logs/2025-08-31/test-plugin-loading-simple_20250831_080122.log

=== Performance Expectations ===
Active immediate plugins: 26
Deferred plugins count: 0
❌ FAIL: Significant deferral achieved
   Details: Only deferred 0 plugins

=== TEST EXECUTION SUMMARY ===
Tests passed: 11
Tests failed: 6
Total tests: 17
⚠️  SIGNIFICANT ISSUES - Multiple test failures detected
Simplified performance report created: /Users/s-a-c/.config/zsh/logs/2025-08-31/plugin-loading-simple-report_20250831_080122.md
=== Simplified Plugin Loading Test Suite Completed ===
[2025-08-31 08:01:28] [FAIL] test-plugin-loading - Exit code: 1
[2025-08-31 08:01:28] [FAIL] test-plugin-loading - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
=== Plugin Loading Test Suite Started ===
Test timestamp: 20250831_080123
Original PWD: /Users/s-a-c/dotfiles/dot-config/zsh
Log file: /Users/s-a-c/.config/zsh/logs/2025-08-31/test-plugin-loading_20250831_080123.log

=== Test Group 1: Configuration Validation ===
✅ PASS: Deferred loading configuration file exists
   Details: Path: /Users/s-a-c/.config/zsh/.zshrc.pre-plugins.d/04-plugin-deferred-loading.zsh
❌ FAIL: Deferred loading configuration is executable

=== Test Group 2: Dependencies Validation ===
❌ FAIL: zsh-defer command is available
   Details: zsh-defer is required for deferred plugin loading
❌ FAIL: zgenom plugin manager is available
   Details: zgenom is required for plugin loading

=== Test Group 3: Main Configuration Updates ===
❌ FAIL: git-extra-commands removed from main loading
   Details: Should be commented as deferred in .zgen-setup
❌ FAIL: jpb utilities removed from main loading
   Details: Should be commented as deferred in .zgen-setup
❌ FAIL: warhol plugin removed from main loading
   Details: Should be commented as deferred in .zgen-setup
❌ FAIL: docker completions removed from main loading
   Details: Should be commented as deferred in .zgen-setup

=== Test Group 4: Startup Performance Testing ===
Measuring shell startup time with deferred loading...
Startup time: 4.229514000s
❌ FAIL: Shell startup time is reasonable
   Details: Startup time: 4.229514000s (should be < 3s)

=== Test Group 5: Deferred Loading Functionality ===
Deferred loading test output:
[DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
WRAPPER_TEST_git:YES
WRAPPER_TEST_docker:YES
WRAPPER_TEST_op:YES
WRAPPER_TEST_rake:YES
ENV_TEST_git:0
ENV_TEST_docker:0
ENV_TEST_op:0
ENV_TEST_rake:0
DEFER_TEST:AVAILABLE
✅ PASS: Git wrapper function is created
   Details: git command should be wrapped for lazy loading
✅ PASS: Docker wrapper function is created
   Details: docker command should be wrapped for lazy loading
✅ PASS: 1Password wrapper function is created
   Details: op command should be wrapped for lazy loading
✅ PASS: Rake wrapper function is created
   Details: rake command should be wrapped for lazy loading
❌ FAIL: Git plugin not loaded on startup
   Details: Should only load when git is used
❌ FAIL: Docker plugin not loaded on startup
   Details: Should only load when docker is used
❌ FAIL: 1Password plugin not loaded on startup
   Details: Should only load when op is used
❌ FAIL: Rake plugin not loaded on startup
   Details: Should only load when rake is used
✅ PASS: zsh-defer is available in clean shell
   Details: Required for deferred loading functionality

=== Test Group 6: Script Syntax Validation ===
✅ PASS: Deferred loading script has valid syntax
   Details: Syntax check output: 

=== Test Group 7: Logging Validation ===
✅ PASS: Log directory structure exists
   Details: Required for comprehensive logging
✅ PASS: Test log file is being created
   Details: This test should be logging to: /Users/s-a-c/.config/zsh/logs/2025-08-31/test-plugin-loading_20250831_080123.log

=== Test Group 8: Configuration Integrity ===
✅ PASS: Essential syntax highlighting plugin still loads immediately
   Details: Critical for real-time syntax highlighting
✅ PASS: Essential history search plugin still loads immediately
   Details: Critical for UP/DOWN arrow functionality
✅ PASS: Essential autosuggestions plugin still loads immediately
   Details: Critical for interactive shell experience
✅ PASS: Essential prompt system still loads immediately
   Details: Critical for shell display

=== Test Group 9: File System Validation ===
✅ PASS: Deferred loading script is readable
❌ FAIL: Plugin audit documentation exists
   Details: Documentation should be available for reference

=== Test Group 10: Backup and Safety ===
❌ FAIL: Main configuration backup was created
   Details: Safety measure before modifications

=== Test Group 11: Performance Comparison ===
/Users/s-a-c/dotfiles/dot-config/zsh/tests/2025-08-23/performance/test-plugin-loading.zsh:311: no matches found: /Users/s-a-c/.config/zsh/.zgen-setup.backup-deferred-*
Original plugin count (immediate loading): 0
Current plugin count (immediate loading): 27
❌ FAIL: Significant plugin count reduction achieved
   Details: Reduced immediate loading from 0 to 27 plugins (--27)

=== Test Group 12: Deferred Scheduling Validation ===
✅ PASS: Utility plugins scheduled with 1s delay
   Details: Background loading timing is configured
✅ PASS: OMZ plugins scheduled with 2s delay
   Details: Staged loading approach is configured
✅ PASS: Utility plugin jpb.zshplugin is in deferred loading
   Details: Should be loaded in background
✅ PASS: Utility plugin warhol.plugin.zsh is in deferred loading
   Details: Should be loaded in background
✅ PASS: Utility plugin tumult.plugin.zsh is in deferred loading
   Details: Should be loaded in background
✅ PASS: Utility plugin eventi/noreallyjustfuckingstopalready is in deferred loading
   Details: Should be loaded in background
✅ PASS: Utility plugin bitbucket-git-helpers is in deferred loading
   Details: Should be loaded in background
✅ PASS: Utility plugin skx/sysadmin-util is in deferred loading
   Details: Should be loaded in background
✅ PASS: Utility plugin StackExchange/blackbox is in deferred loading
   Details: Should be loaded in background
✅ PASS: Utility plugin sharat87/pip-app is in deferred loading
   Details: Should be loaded in background
✅ PASS: Utility plugin chrissicool/zsh-256color is in deferred loading
   Details: Should be loaded in background
✅ PASS: Utility plugin supercrabtree/k is in deferred loading
   Details: Should be loaded in background
✅ PASS: OMZ plugin plugins/aws is in deferred loading
   Details: Should be loaded in background
✅ PASS: OMZ plugin plugins/chruby is in deferred loading
   Details: Should be loaded in background
✅ PASS: OMZ plugin plugins/rsync is in deferred loading
   Details: Should be loaded in background
✅ PASS: OMZ plugin plugins/screen is in deferred loading
   Details: Should be loaded in background
✅ PASS: OMZ plugin plugins/vagrant is in deferred loading
   Details: Should be loaded in background
✅ PASS: OMZ plugin plugins/macos is in deferred loading
   Details: Should be loaded in background

=== Test Group 13: Working Directory Management ===
✅ PASS: Working directory preserved during tests
   Details: Current: /Users/s-a-c/dotfiles/dot-config/zsh, Original: /Users/s-a-c/dotfiles/dot-config/zsh

=== Test Group 14: Log File Organization ===
date: illegal time format
usage: date [-jnRu] [-I[date|hours|minutes|seconds|ns]] [-f input_fmt]
            [ -z output_zone ] [-r filename|seconds] [-v[+|-]val[y|m|w|d|H|M|S]]
            [[[[mm]dd]HH]MM[[cc]yy][.SS] | new_date] [+output_fmt]
✅ PASS: Date-based log directory structure exists
   Details: Logs should be organized by UTC date
✅ PASS: Test log file follows UTC timestamp naming
   Details: File: /Users/s-a-c/.config/zsh/logs/2025-08-31/test-plugin-loading_20250831_080123.log

=== Test Group 15: Integration Testing ===
✅ PASS: Deferred loading configuration sources without errors
   Details: Critical for shell startup success

=== TEST EXECUTION SUMMARY ===
Tests passed: 36
Tests failed: 15
Total tests: 51
⚠️  SOME TESTS FAILED - Review the failed tests above

=== DETAILED TEST RESULTS ===
PASS: Deferred loading configuration file exists
FAIL: Deferred loading configuration is executable
FAIL: zsh-defer command is available
FAIL: zgenom plugin manager is available
FAIL: git-extra-commands removed from main loading
FAIL: jpb utilities removed from main loading
FAIL: warhol plugin removed from main loading
FAIL: docker completions removed from main loading
FAIL: Shell startup time is reasonable
PASS: Git wrapper function is created
PASS: Docker wrapper function is created
PASS: 1Password wrapper function is created
PASS: Rake wrapper function is created
FAIL: Git plugin not loaded on startup
FAIL: Docker plugin not loaded on startup
FAIL: 1Password plugin not loaded on startup
FAIL: Rake plugin not loaded on startup
PASS: zsh-defer is available in clean shell
PASS: Deferred loading script has valid syntax
PASS: Log directory structure exists
PASS: Test log file is being created
PASS: Essential syntax highlighting plugin still loads immediately
PASS: Essential history search plugin still loads immediately
PASS: Essential autosuggestions plugin still loads immediately
PASS: Essential prompt system still loads immediately
PASS: Deferred loading script is readable
FAIL: Plugin audit documentation exists
FAIL: Main configuration backup was created
FAIL: Significant plugin count reduction achieved
PASS: Utility plugins scheduled with 1s delay
PASS: OMZ plugins scheduled with 2s delay
PASS: Utility plugin jpb.zshplugin is in deferred loading
PASS: Utility plugin warhol.plugin.zsh is in deferred loading
PASS: Utility plugin tumult.plugin.zsh is in deferred loading
PASS: Utility plugin eventi/noreallyjustfuckingstopalready is in deferred loading
PASS: Utility plugin bitbucket-git-helpers is in deferred loading
PASS: Utility plugin skx/sysadmin-util is in deferred loading
PASS: Utility plugin StackExchange/blackbox is in deferred loading
PASS: Utility plugin sharat87/pip-app is in deferred loading
PASS: Utility plugin chrissicool/zsh-256color is in deferred loading
PASS: Utility plugin supercrabtree/k is in deferred loading
PASS: OMZ plugin plugins/aws is in deferred loading
PASS: OMZ plugin plugins/chruby is in deferred loading
PASS: OMZ plugin plugins/rsync is in deferred loading
PASS: OMZ plugin plugins/screen is in deferred loading
PASS: OMZ plugin plugins/vagrant is in deferred loading
PASS: OMZ plugin plugins/macos is in deferred loading
PASS: Working directory preserved during tests
PASS: Date-based log directory structure exists
PASS: Test log file follows UTC timestamp naming
PASS: Deferred loading configuration sources without errors

=== PERFORMANCE ANALYSIS ===
Shell startup time: 4.229514000s
Plugin reduction: -27 plugins moved to deferred loading
Immediate loading plugins remaining: 27
Performance report created: /Users/s-a-c/.config/zsh/logs/2025-08-31/plugin-loading-performance-report_20250831_080123.md
=== Plugin Loading Test Suite Completed ===
[2025-08-31 08:01:28] [PASS] test-startup-time - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
==============================================================================
ZSH Startup Time Performance Test
Started: Sun 31 Aug 2025 08:01:28 BST
Log file: /Users/s-a-c/.config/zsh/logs/2025-08-31/test-startup-time-08-01-28.log
==============================================================================

📊 Testing ZSH startup performance...
  Test 1: Current configuration (5 iterations)
    Iteration 1/5: 18.918000000ms
    Iteration 2/5: 18.578000000ms
    Iteration 3/5: 19.427000000ms
    Iteration 4/5: 18.824000000ms
    Iteration 5/5: 18.601000000ms
    📈 CURRENT configuration stats:
      Successful: 5/5
      Average: 18.8ms
      Min/Max: 18.578000000ms / 19.427000000ms

  Test 3: No configuration baseline (5 iterations)
    Iteration 1/5: 19.486000000ms
    Iteration 2/5: 19.526000000ms
    Iteration 3/5: 19.890000000ms
    Iteration 4/5: 19.678000000ms
    Iteration 5/5: 18.887000000ms
    📈 NONE configuration stats:
      Successful: 5/5
      Average: 19.4ms
      Min/Max: 18.887000000ms / 19.890000000ms

📊 Comparing with baseline measurements...
  ⚠️  No baseline measurements found. Run zsh-performance-baseline first.
🔍 Analyzing potential bottlenecks...
  Scanning for potential bottlenecks:
    eval statements found:       38
    Command substitutions:     1171
    File existence checks:      278
🎯 Validating performance targets...
  Current average: 18.8ms
  Target: <300ms
  ✅ Performance target met

🧹 Cleaning up test environment...
  Removed temporary directory: /tmp/zsh-startup-test.23241
  Test log saved: /Users/s-a-c/.config/zsh/logs/2025-08-31/test-startup-time-08-01-28.log

==============================================================================
✅ All performance tests passed
==============================================================================
[2025-08-31 08:01:28] [FAIL] test-env-sanitization - Exit code: 1
[2025-08-31 08:01:28] [FAIL] test-env-sanitization - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[2025-08-31 07:01:28 UTC] [INFO] Starting Environment Sanitization test suite
🛡️  Starting Environment Sanitization Test Suite
📁 Test Directory: /tmp/zsh-env-sanitization-test-23509
📋 Test Log: /Users/s-a-c/.config/zsh/logs/2025-08-31/test-env-sanitization-070128.log

[2025-08-31 07:01:28 UTC] [INFO] Setting up environment sanitization test environment in /tmp/zsh-env-sanitization-test-23509
Attempting to source: /Users/s-a-c/.config/zsh/.zshrc.pre-plugins.d/05-environment-sanitization.zsh
[2025-08-31 07:01:28 UTC] [INFO] Test environment setup complete
[2025-08-31 07:01:28 UTC] [INFO] Running test 1: PATH Security Validation
[2025-08-31 07:01:28 UTC] [INFO] Testing PATH security validation
[2025-08-31 07:01:28 UTC] [INFO] PATH security validation test successful
[2025-08-31 07:01:28 UTC] [PASS] Test 1: PATH Security Validation - PASSED
✅ Test 1: PATH Security Validation - PASSED
[2025-08-31 07:01:28 UTC] [INFO] Running test 2: PATH Sanitization
[2025-08-31 07:01:28 UTC] [INFO] Testing PATH sanitization
[2025-08-31 07:01:28 UTC] [ERROR] Secure test directory was removed
[2025-08-31 07:01:28 UTC] [FAIL] Test 2: PATH Sanitization - FAILED
❌ Test 2: PATH Sanitization - FAILED
[2025-08-31 07:01:28 UTC] [INFO] Running test 3: Sensitive Variable Detection
[2025-08-31 07:01:28 UTC] [INFO] Testing sensitive variable detection
[2025-08-31 07:01:28 UTC] [INFO] Sensitive variable detection test successful
[2025-08-31 07:01:28 UTC] [PASS] Test 3: Sensitive Variable Detection - PASSED
✅ Test 3: Sensitive Variable Detection - PASSED
[2025-08-31 07:01:28 UTC] [INFO] Running test 4: Sensitive Variable Removal
[2025-08-31 07:01:28 UTC] [INFO] Testing sensitive variable removal
[2025-08-31 07:01:28 UTC] [INFO] Cleaning up test environment
[2025-08-31 07:01:28 UTC] [INFO] Test environment cleanup complete
[2025-08-31 08:01:28] [PASS] test-plugin-integrity-simple - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[2025-08-31 07:01:28 UTC] [INFO] Cleaning up test environment
[2025-08-31 07:01:28 UTC] [INFO] Test environment cleanup complete
[2025-08-31 08:01:28] [PASS] test-plugin-integrity - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[2025-08-31 07:01:28 UTC] [INFO] Cleaning up test environment
[2025-08-31 07:01:28 UTC] [INFO] Test environment cleanup complete
[2025-08-31 08:01:29] [FAIL] test-backup-restore - Exit code: 1
[2025-08-31 08:01:29] [FAIL] test-backup-restore - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[2025-08-31 08:01:29] [PASS] test-nvm-lazy-negative - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
PASS nvm lazy negative
[2025-08-31 08:01:29] [PASS] test-preplugin-ssh-agent-permissions - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
PASS ssh-agent permission-only audit
[2025-08-31 08:01:29] [FAIL] test-compinit-single-run - Exit code: 1
[2025-08-31 08:01:29] [FAIL] test-compinit-single-run - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
# [minimal-completion-init] Initialized with /Users/s-a-c/.cache/zsh/zcompdump_5.9 (single-run)
FAIL: compdump not created at /Users/s-a-c/.cache/zsh/zcompdump_5.9
[2025-08-31 08:01:29] [PASS] test-nvm-lazy-load - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
# [pre-plugin] 15-node-runtime-env (strict-XDG) lazy=1 nvm_dir=/var/folders/f0/2m6r6db57bxglzky2b_f49n00000gn/T//nvm-test-Qtny npm_prefix=unset nvm_sourced=0
PASS nvm lazy load single source
[2025-08-31 08:01:29] [SUMMARY] Total: 83, Passed: 30, Failed: 39, Skipped: 14
[2025-08-31 08:01:29] [FAILURE] 39 test(s) failed
