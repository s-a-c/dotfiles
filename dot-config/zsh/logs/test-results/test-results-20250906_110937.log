[2025-09-06 11:09:37] [INFO] Running security tests only
[2025-09-06 11:09:38] [FAIL] test-async-initial-state - Exit code: 1 (index=1 duration=352ms)
[2025-09-06 11:09:38] [FAIL] test-async-initial-state - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
Test 1: Initial async state is not RUNNING... [32mPASS[0m
Test 2: Async queue marker present on init... [32mPASS[0m
Test 3: No RUNNING state before prompt completion... grep: /Users/s-a-c/dotfiles/dot-config/zsh/logs/perf-current.log: No such file or directory
[32mPASS[0m
Test 4: Proper state progression after prompt... [32mPASS[0m
Test 5: RUNNING state occurs after prompt completion... [32mPASS[0m
Test 6: State consistency maintained... [32mPASS[0m
Test 7: Premature async start detection... 
[2025-09-06 11:09:38] [PASS] test-async-state-machine - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
Test 1: Initial async state not RUNNING... [32mPASS[0m
Test 2: Deferred start marker present... [32mPASS[0m
Test 3: Valid state transition after prompt... [32mPASS[0m
Test 4: State transitions are monotonic... [32mPASS[0m
Test 5: No duplicate states at same timestamp... [32mPASS[0m
Test 6: Log file permissions valid... [32mPASS[0m
Test 7: State machine cleanup... [32mPASS[0m

=== Async State Machine Test Summary ===
[32mAll 7 tests passed![0m (index=2 duration=438ms)
[2025-09-06 11:09:38] [SKIP] test-preplugin-integrity-hash - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
SKIP: metrics directory not found (run integrity-hash-preplugin.zsh) (index=3 duration=30ms)
[2025-09-06 11:09:38] [SUMMARY] Security Tests - Total: 3, Passed: 1, Failed: 1
