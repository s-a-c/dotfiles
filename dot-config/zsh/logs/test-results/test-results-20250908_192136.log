[2025-09-08 19:21:36] [INFO] Running design tests only
[2025-09-08 19:21:36] [INFO] Starting test suite execution
[2025-09-08 19:21:36] [INFO] ZDOTDIR: /Users/s-a-c/dotfiles/dot-config/zsh
[2025-09-08 19:21:36] [INFO] ZSH_COMPDUMP: <not set>
[2025-09-08 19:21:36] [INFO] ZSH_CACHE_DIR: /Users/s-a-c/.cache/zsh
[2025-09-08 19:21:37] [PASS] test-histfile-single - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
# [test-histfile-single] Testing HISTFILE configuration consistency
# [test-histfile-single] HISTFILE configuration test passed
# [test-histfile-single] HISTFILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zsh_history, HISTSIZE=2000000, SAVEHIST=2000200
PASS: HISTFILE configuration working correctly (index=1 duration=40ms)
[2025-09-08 19:21:37] [FAIL] test-locale-conditional - Exit code: 1 (index=2 duration=52ms)
[2025-09-08 19:21:37] [FAIL] test-locale-conditional - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
# [test-locale-conditional] Testing locale configuration consistency
FAIL: LANG not properly exported to subshells
  Expected: en_GB.UTF-8
  Actual: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
en_GB.UTF-8
[2025-09-08 19:21:37] [PASS] test-path-dedup - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
# [test-path-dedup] Starting PATH deduplication test
# [test-path-dedup] PATH deduplication test passed - no duplicates found
PASS: PATH deduplication working correctly (index=3 duration=90ms)
[2025-09-08 19:21:37] [FAIL] test-path-lock - Exit code: 1 (index=4 duration=36ms)
[2025-09-08 19:21:37] [FAIL] test-path-lock - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
# [test-path-lock] Testing PATH deduplication function consistency
FAIL: path_dedupe did not remove duplicates
  Test PATH: /usr/bin:/bin:/usr/bin:/usr/local/bin:/bin:/usr/sbin
  Result PATH: /usr/bin:/bin:/usr/bin:/usr/local/bin:/bin:/usr/sbin
[2025-09-08 19:21:37] [FAIL] test-lock-contention - Exit code: 1 (index=5 duration=35ms)
[2025-09-08 19:21:37] [FAIL] test-lock-contention - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
# [test-lock-contention] Testing completion rebuild lock contention
/Users/s-a-c/dotfiles/dot-config/zsh/tests/perf/phase06/test-lock-contention.zsh:28: ZSH_COMPDUMP: parameter not set
[2025-09-08 19:21:44] [FAIL] test-single-compinit - Exit code: 141 (index=6 duration=7317ms)
[2025-09-08 19:21:44] [FAIL] test-single-compinit - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
# [test-single-compinit] Testing single compinit execution
FAIL: Multiple compinit calls found (25505)
This indicates redundant completion initialization
Compinit calls found:
+TRACE+ /Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/ohmyzsh/ohmyzsh/master/oh-my-zsh.sh:79 autoload -U compaudit compinit zrecompile
+TRACE+ /Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/ohmyzsh/ohmyzsh/master/oh-my-zsh.sh:127 compinit -i -d /Users/s-a-c/dotfiles/dot-config/zsh/.zcompdump-StandAloneComplexs-MacBook-Pro-5.9
+TRACE+ compinit:74 emulate -L zsh
+TRACE+ compinit:75 setopt extendedglob
+TRACE+ compinit:77 typeset _i_dumpfile _i_files _i_line _i_done _i_dir _i_autodump=1
[2025-09-08 19:22:36] [FAIL] test-redesign-sentinels - Exit code: 124 (index=1 duration=60014ms)
[2025-09-08 19:22:36] [FAIL] test-redesign-sentinels - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
# [run-all-tests] Starting comprehensive test suite
🧪 ZSH Configuration Test Suite
================================
ZDOTDIR: /Users/s-a-c/dotfiles/dot-config/zsh
Results: /Users/s-a-c/dotfiles/dot-config/zsh/logs/test-results/test-results-20250908_192136.log

[2025-09-08 19:21:36] [INFO] Starting test suite execution
[2025-09-08 19:21:36] [INFO] ZDOTDIR: /Users/s-a-c/dotfiles/dot-config/zsh
[2025-09-08 19:21:36] [INFO] ZSH_COMPDUMP: <not set>
[2025-09-08 19:21:36] [INFO] ZSH_CACHE_DIR: /Users/s-a-c/.cache/zsh
Setting test file permissions...
Running tests from: /Users/s-a-c/dotfiles/dot-config/zsh/tests/path/phase05

Running (1) test-histfile-single...
PASS (40ms)
[2025-09-08 19:21:37] [PASS] test-histfile-single - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
# [test-histfile-single] Testing HISTFILE configuration consistency
# [test-histfile-single] HISTFILE configuration test passed
# [test-histfile-single] HISTFILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zsh_history, HISTSIZE=2000000, SAVEHIST=2000200
PASS: HISTFILE configuration working correctly (index=1 duration=40ms)
Running (2) test-locale-conditional...
FAIL (52ms)
[2025-09-08 19:21:37] [FAIL] test-locale-conditional - Exit code: 1 (index=2 duration=52ms)
[2025-09-08 19:21:37] [FAIL] test-locale-conditional - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
# [test-locale-conditional] Testing locale configuration consistency
FAIL: LANG not properly exported to subshells
  Expected: en_GB.UTF-8
  Actual: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
en_GB.UTF-8
  Error details:
    [DEBUG] early .zshenv:
        ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
        ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
        ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
    [DEBUG]: localized zgenom configuration:
        ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
        ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
        ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
        ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
        ZGEN_AUTOLOAD_COMPINIT=0
    [DEBUG] early .zshenv:
        ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
        ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
        ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
    [DEBUG]: localized zgenom configuration:
        ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
        ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
        ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
        ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
        ZGEN_AUTOLOAD_COMPINIT=0
    # [test-locale-conditional] Testing locale configuration consistency
    FAIL: LANG not properly exported to subshells
      Expected: en_GB.UTF-8
      Actual: [DEBUG] early .zshenv:
        ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
        ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
        ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
    [DEBUG]: localized zgenom configuration:
        ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
        ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
        ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
        ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
        ZGEN_AUTOLOAD_COMPINIT=0
    en_GB.UTF-8
Running (3) test-path-dedup...
PASS (90ms)
[2025-09-08 19:21:37] [PASS] test-path-dedup - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
# [test-path-dedup] Starting PATH deduplication test
# [test-path-dedup] PATH deduplication test passed - no duplicates found
PASS: PATH deduplication working correctly (index=3 duration=90ms)
Running (4) test-path-lock...
FAIL (36ms)
[2025-09-08 19:21:37] [FAIL] test-path-lock - Exit code: 1 (index=4 duration=36ms)
[2025-09-08 19:21:37] [FAIL] test-path-lock - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
# [test-path-lock] Testing PATH deduplication function consistency
FAIL: path_dedupe did not remove duplicates
  Test PATH: /usr/bin:/bin:/usr/bin:/usr/local/bin:/bin:/usr/sbin
  Result PATH: /usr/bin:/bin:/usr/bin:/usr/local/bin:/bin:/usr/sbin
  Error details:
    [DEBUG] early .zshenv:
        ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
        ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
        ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
    [DEBUG]: localized zgenom configuration:
        ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
        ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
        ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
        ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
        ZGEN_AUTOLOAD_COMPINIT=0
    [DEBUG] early .zshenv:
        ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
        ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
        ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
    [DEBUG]: localized zgenom configuration:
        ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
        ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
        ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
        ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
        ZGEN_AUTOLOAD_COMPINIT=0
    # [test-path-lock] Testing PATH deduplication function consistency
    FAIL: path_dedupe did not remove duplicates
      Test PATH: /usr/bin:/bin:/usr/bin:/usr/local/bin:/bin:/usr/sbin
      Result PATH: /usr/bin:/bin:/usr/bin:/usr/local/bin:/bin:/usr/sbin

Running tests from: /Users/s-a-c/dotfiles/dot-config/zsh/tests/perf/phase06

Running (5) test-lock-contention...
FAIL (35ms)
[2025-09-08 19:21:37] [FAIL] test-lock-contention - Exit code: 1 (index=5 duration=35ms)
[2025-09-08 19:21:37] [FAIL] test-lock-contention - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
# [test-lock-contention] Testing completion rebuild lock contention
/Users/s-a-c/dotfiles/dot-config/zsh/tests/perf/phase06/test-lock-contention.zsh:28: ZSH_COMPDUMP: parameter not set
  Error details:
    [DEBUG] early .zshenv:
        ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
        ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
        ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
    [DEBUG]: localized zgenom configuration:
        ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
        ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
        ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
        ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
        ZGEN_AUTOLOAD_COMPINIT=0
    [DEBUG] early .zshenv:
        ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
        ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
        ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
    [DEBUG]: localized zgenom configuration:
        ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
        ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
        ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
        ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
        ZGEN_AUTOLOAD_COMPINIT=0
    # [test-lock-contention] Testing completion rebuild lock contention
    /Users/s-a-c/dotfiles/dot-config/zsh/tests/perf/phase06/test-lock-contention.zsh:28: ZSH_COMPDUMP: parameter not set
Running (6) test-single-compinit...
FAIL (7317ms)
[2025-09-08 19:21:44] [FAIL] test-single-compinit - Exit code: 141 (index=6 duration=7317ms)
[2025-09-08 19:21:44] [FAIL] test-single-compinit - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
# [test-single-compinit] Testing single compinit execution
FAIL: Multiple compinit calls found (25505)
This indicates redundant completion initialization
Compinit calls found:
+TRACE+ /Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/ohmyzsh/ohmyzsh/master/oh-my-zsh.sh:79 autoload -U compaudit compinit zrecompile
+TRACE+ /Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/ohmyzsh/ohmyzsh/master/oh-my-zsh.sh:127 compinit -i -d /Users/s-a-c/dotfiles/dot-config/zsh/.zcompdump-StandAloneComplexs-MacBook-Pro-5.9
+TRACE+ compinit:74 emulate -L zsh
+TRACE+ compinit:75 setopt extendedglob
+TRACE+ compinit:77 typeset _i_dumpfile _i_files _i_line _i_done _i_dir _i_autodump=1
  Error details:
    [DEBUG] early .zshenv:
        ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
        ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
        ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
    [DEBUG]: localized zgenom configuration:
        ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
        ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
        ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
        ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
        ZGEN_AUTOLOAD_COMPINIT=0
    [DEBUG] early .zshenv:
        ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
        ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
        ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
    [DEBUG]: localized zgenom configuration:
        ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
        ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
        ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
        ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
        ZGEN_AUTOLOAD_COMPINIT=0
    # [test-single-compinit] Testing single compinit execution
    FAIL: Multiple compinit calls found (25505)
    This indicates redundant completion initialization
    Compinit calls found:
    +TRACE+ /Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/ohmyzsh/ohmyzsh/master/oh-my-zsh.sh:79 autoload -U compaudit compinit zrecompile
    +TRACE+ /Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/ohmyzsh/ohmyzsh/master/oh-my-zsh.sh:127 compinit -i -d /Users/s-a-c/dotfiles/dot-config/zsh/.zcompdump-StandAloneComplexs-MacBook-Pro-5.9
    +TRACE+ compinit:74 emulate -L zsh
    +TRACE+ compinit:75 setopt extendedglob
    +TRACE+ compinit:77 typeset _i_dumpfile _i_files _i_line _i_done _i_dir _i_autodump=1

Running tests from: /Users/s-a-c/dotfiles/dot-config/zsh/tests/design

Running (7) test-redesign-sentinels...
[2025-09-08 19:22:36] [FAIL] test-sentinels-idempotency-stage3-core - Exit code: 1 (index=2 duration=52ms)
[2025-09-08 19:22:36] [FAIL] test-sentinels-idempotency-stage3-core - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
/Users/s-a-c/dotfiles/dot-config/zsh/tests/design/test-sentinels-idempotency-stage3-core.zsh:141: command not found: grep
/Users/s-a-c/dotfiles/dot-config/zsh/tests/design/test-sentinels-idempotency-stage3-core.zsh:218: command not found: grep
PASS: S1 all-modules-present
PASS: S2 source-ok-security
PASS: S2 source-ok-corefunc
PASS: S2 source-ok-options
PASS: S2 sentinel-set-security
PASS: S2 sentinel-set-corefunc
PASS: S2 sentinel-set-options
PASS: S4a captured-initial-option-snapshot
PASS: S3 resource-ok-security
PASS: S3 resource-ok-corefunc
PASS: S3 resource-ok-options
PASS: S3 path-length-nonshrinking before= after=
PASS: S6 deferred-task-stable (registered)
FAIL: S5a empty-initial-core-func-list
FAIL: S3 original-path-segment-loss
FAIL: S4b option-snapshot-drift

SUMMARY: passes=13 fails=3 skips=0
TEST RESULT: FAIL
[2025-09-08 19:22:36] [SUMMARY] Design Tests - Total: 2, Passed: 0, Failed: 2
