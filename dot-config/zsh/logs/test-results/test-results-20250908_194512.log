[2025-09-08 19:45:12] [INFO] Starting test suite execution
[2025-09-08 19:45:12] [INFO] ZDOTDIR: /Users/s-a-c/dotfiles/dot-config/zsh
[2025-09-08 19:45:12] [INFO] ZSH_COMPDUMP: <not set>
[2025-09-08 19:45:12] [INFO] ZSH_CACHE_DIR: /Users/s-a-c/.cache/zsh
[2025-09-08 19:45:12] [INFO] Starting test suite execution
[2025-09-08 19:45:12] [INFO] ZDOTDIR: /Users/s-a-c/dotfiles/dot-config/zsh
[2025-09-08 19:45:12] [INFO] ZSH_COMPDUMP: /Users/s-a-c/dotfiles/dot-config/zsh/.zcompdump-StandAloneComplexs-MacBook-Pro-5.9
[2025-09-08 19:45:12] [INFO] ZSH_CACHE_DIR: /Users/s-a-c/.cache/zsh
[2025-09-08 19:45:12] [PASS] test-histfile-single - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
# [test-histfile-single] Testing HISTFILE configuration consistency
# [test-histfile-single] HISTFILE configuration test passed
# [test-histfile-single] HISTFILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zsh_history, HISTSIZE=2000000, SAVEHIST=2000200
PASS: HISTFILE configuration working correctly (index=1 duration=59ms)
[2025-09-08 19:45:12] [FAIL] test-locale-conditional - Exit code: 1 (index=2 duration=74ms)
[2025-09-08 19:45:12] [FAIL] test-locale-conditional - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
# [test-locale-conditional] Testing locale configuration consistency
FAIL: LANG not properly exported to subshells
  Expected: en_GB.UTF-8
  Actual: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
en_GB.UTF-8
[2025-09-08 19:45:13] [PASS] test-path-dedup - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
# [test-path-dedup] Starting PATH deduplication test
# [test-path-dedup] PATH deduplication test passed - no duplicates found
PASS: PATH deduplication working correctly (index=3 duration=127ms)
[2025-09-08 19:45:13] [FAIL] test-path-lock - Exit code: 1 (index=4 duration=57ms)
[2025-09-08 19:45:13] [FAIL] test-path-lock - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
# [test-path-lock] Testing PATH deduplication function consistency
FAIL: path_dedupe did not remove duplicates
  Test PATH: /usr/bin:/bin:/usr/bin:/usr/local/bin:/bin:/usr/sbin
  Result PATH: /usr/bin:/bin:/usr/bin:/usr/local/bin:/bin:/usr/sbin
[2025-09-08 19:45:13] [FAIL] test-lock-contention - Exit code: 1 (index=5 duration=50ms)
[2025-09-08 19:45:13] [FAIL] test-lock-contention - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
# [test-lock-contention] Testing completion rebuild lock contention
/Users/s-a-c/dotfiles/dot-config/zsh/tests/perf/phase06/test-lock-contention.zsh:28: ZSH_COMPDUMP: parameter not set
[2025-09-08 19:45:17] [PASS] test-histfile-single - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
# [test-histfile-single] Testing HISTFILE configuration consistency
# [test-histfile-single] HISTFILE configuration test passed
# [test-histfile-single] HISTFILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zsh_history, HISTSIZE=2000000, SAVEHIST=2000200
PASS: HISTFILE configuration working correctly (index=1 duration=114ms)
[2025-09-08 19:45:17] [FAIL] test-locale-conditional - Exit code: 1 (index=2 duration=134ms)
[2025-09-08 19:45:17] [FAIL] test-locale-conditional - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
# [test-locale-conditional] Testing locale configuration consistency
FAIL: LANG not properly exported to subshells
  Expected: en_GB.UTF-8
  Actual: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
en_GB.UTF-8
[2025-09-08 19:45:18] [PASS] test-path-dedup - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
# [test-path-dedup] Starting PATH deduplication test
# [test-path-dedup] PATH deduplication test passed - no duplicates found
PASS: PATH deduplication working correctly (index=3 duration=209ms)
[2025-09-08 19:45:18] [FAIL] test-path-lock - Exit code: 1 (index=4 duration=93ms)
[2025-09-08 19:45:18] [FAIL] test-path-lock - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
# [test-path-lock] Testing PATH deduplication function consistency
FAIL: path_dedupe did not remove duplicates
  Test PATH: /usr/bin:/bin:/usr/bin:/usr/local/bin:/bin:/usr/sbin
  Result PATH: /usr/bin:/bin:/usr/bin:/usr/local/bin:/bin:/usr/sbin
[2025-09-08 19:45:18] [FAIL] test-lock-contention - Exit code: 1 (index=5 duration=88ms)
[2025-09-08 19:45:18] [FAIL] test-lock-contention - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
# [test-lock-contention] Testing completion rebuild lock contention
/Users/s-a-c/dotfiles/dot-config/zsh/tests/perf/phase06/test-lock-contention.zsh:28: ZSH_COMPDUMP: parameter not set
[2025-09-08 19:45:26] [FAIL] test-single-compinit - Exit code: 141 (index=6 duration=12829ms)
[2025-09-08 19:45:26] [FAIL] test-single-compinit - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
# [test-single-compinit] Testing single compinit execution
FAIL: Multiple compinit calls found (38874)
This indicates redundant completion initialization
Compinit calls found:
+TRACE+ /Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/ohmyzsh/ohmyzsh/master/oh-my-zsh.sh:79 autoload -U compaudit compinit zrecompile
+TRACE+ /Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/ohmyzsh/ohmyzsh/master/oh-my-zsh.sh:127 compinit -i -d /Users/s-a-c/dotfiles/dot-config/zsh/.zcompdump-StandAloneComplexs-MacBook-Pro-5.9
+TRACE+ compinit:74 emulate -L zsh
+TRACE+ compinit:75 setopt extendedglob
+TRACE+ compinit:77 typeset _i_dumpfile _i_files _i_line _i_done _i_dir _i_autodump=1
5.13s user 4.48s system 74% cpu 12.823s total
[2025-09-08 19:45:30] [FAIL] test-single-compinit - Exit code: 141 (index=6 duration=12025ms)
[2025-09-08 19:45:30] [FAIL] test-single-compinit - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
# [test-single-compinit] Testing single compinit execution
FAIL: Multiple compinit calls found (25415)
This indicates redundant completion initialization
Compinit calls found:
+TRACE+ /Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/ohmyzsh/ohmyzsh/master/oh-my-zsh.sh:79 autoload -U compaudit compinit zrecompile
+TRACE+ /Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/ohmyzsh/ohmyzsh/master/oh-my-zsh.sh:127 compinit -i -d /Users/s-a-c/dotfiles/dot-config/zsh/.zcompdump-StandAloneComplexs-MacBook-Pro-5.9
+TRACE+ compinit:74 emulate -L zsh
+TRACE+ compinit:75 setopt extendedglob
+TRACE+ compinit:77 typeset _i_dumpfile _i_files _i_line _i_done _i_dir _i_autodump=1
[2025-09-08 19:46:26] [FAIL] test-redesign-sentinels - Exit code: 124 (index=7 duration=60015ms)
[2025-09-08 19:46:26] [FAIL] test-redesign-sentinels - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
# [run-all-tests] Starting comprehensive test suite
ðŸ§ª ZSH Configuration Test Suite
================================
ZDOTDIR: /Users/s-a-c/dotfiles/dot-config/zsh
Results: /Users/s-a-c/dotfiles/dot-config/zsh/logs/test-results/test-results-20250908_194526.log

[2025-09-08 19:45:26] [INFO] Starting test suite execution
[2025-09-08 19:45:26] [INFO] ZDOTDIR: /Users/s-a-c/dotfiles/dot-config/zsh
[2025-09-08 19:45:26] [INFO] ZSH_COMPDUMP: <not set>
[2025-09-08 19:45:26] [INFO] ZSH_CACHE_DIR: /Users/s-a-c/.cache/zsh
Setting test file permissions...
Running tests from: /Users/s-a-c/dotfiles/dot-config/zsh/tests/path/phase05

Running (1) test-histfile-single...
PASS (46ms)
[2025-09-08 19:45:27] [PASS] test-histfile-single - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
# [test-histfile-single] Testing HISTFILE configuration consistency
# [test-histfile-single] HISTFILE configuration test passed
# [test-histfile-single] HISTFILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zsh_history, HISTSIZE=2000000, SAVEHIST=2000200
PASS: HISTFILE configuration working correctly (index=1 duration=46ms)
Running (2) test-locale-conditional...
FAIL (75ms)
[2025-09-08 19:45:27] [FAIL] test-locale-conditional - Exit code: 1 (index=2 duration=75ms)
[2025-09-08 19:45:27] [FAIL] test-locale-conditional - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
# [test-locale-conditional] Testing locale configuration consistency
FAIL: LANG not properly exported to subshells
  Expected: en_GB.UTF-8
  Actual: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
en_GB.UTF-8
  Error details:
    [DEBUG] early .zshenv:
        ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
        ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
        ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
    [DEBUG]: localized zgenom configuration:
        ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
        ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
        ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
        ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
        ZGEN_AUTOLOAD_COMPINIT=0
    [DEBUG] early .zshenv:
        ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
        ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
        ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
    [DEBUG]: localized zgenom configuration:
        ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
        ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
        ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
        ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
        ZGEN_AUTOLOAD_COMPINIT=0
    # [test-locale-conditional] Testing locale configuration consistency
    FAIL: LANG not properly exported to subshells
      Expected: en_GB.UTF-8
      Actual: [DEBUG] early .zshenv:
        ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
        ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
        ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
    [DEBUG]: localized zgenom configuration:
        ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
        ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
        ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
        ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
        ZGEN_AUTOLOAD_COMPINIT=0
    en_GB.UTF-8
Running (3) test-path-dedup...
PASS (125ms)
[2025-09-08 19:45:27] [PASS] test-path-dedup - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
# [test-path-dedup] Starting PATH deduplication test
# [test-path-dedup] PATH deduplication test passed - no duplicates found
PASS: PATH deduplication working correctly (index=3 duration=125ms)
Running (4) test-path-lock...
FAIL (46ms)
[2025-09-08 19:45:27] [FAIL] test-path-lock - Exit code: 1 (index=4 duration=46ms)
[2025-09-08 19:45:27] [FAIL] test-path-lock - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
# [test-path-lock] Testing PATH deduplication function consistency
FAIL: path_dedupe did not remove duplicates
  Test PATH: /usr/bin:/bin:/usr/bin:/usr/local/bin:/bin:/usr/sbin
  Result PATH: /usr/bin:/bin:/usr/bin:/usr/local/bin:/bin:/usr/sbin
  Error details:
    [DEBUG] early .zshenv:
        ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
        ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
        ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
    [DEBUG]: localized zgenom configuration:
        ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
        ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
        ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
        ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
        ZGEN_AUTOLOAD_COMPINIT=0
    [DEBUG] early .zshenv:
        ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
        ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
        ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
    [DEBUG]: localized zgenom configuration:
        ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
        ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
        ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
        ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
        ZGEN_AUTOLOAD_COMPINIT=0
    # [test-path-lock] Testing PATH deduplication function consistency
    FAIL: path_dedupe did not remove duplicates
      Test PATH: /usr/bin:/bin:/usr/bin:/usr/local/bin:/bin:/usr/sbin
      Result PATH: /usr/bin:/bin:/usr/bin:/usr/local/bin:/bin:/usr/sbin

Running tests from: /Users/s-a-c/dotfiles/dot-config/zsh/tests/perf/phase06

Running (5) test-lock-contention...
FAIL (56ms)
[2025-09-08 19:45:27] [FAIL] test-lock-contention - Exit code: 1 (index=5 duration=56ms)
[2025-09-08 19:45:27] [FAIL] test-lock-contention - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
# [test-lock-contention] Testing completion rebuild lock contention
/Users/s-a-c/dotfiles/dot-config/zsh/tests/perf/phase06/test-lock-contention.zsh:28: ZSH_COMPDUMP: parameter not set
  Error details:
    [DEBUG] early .zshenv:
        ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
        ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
        ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
    [DEBUG]: localized zgenom configuration:
        ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
        ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
        ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
        ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
        ZGEN_AUTOLOAD_COMPINIT=0
    [DEBUG] early .zshenv:
        ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
        ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
        ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
    [DEBUG]: localized zgenom configuration:
        ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
        ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
        ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
        ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
        ZGEN_AUTOLOAD_COMPINIT=0
    # [test-lock-contention] Testing completion rebuild lock contention
    /Users/s-a-c/dotfiles/dot-config/zsh/tests/perf/phase06/test-lock-contention.zsh:28: ZSH_COMPDUMP: parameter not set
Running (6) test-single-compinit...
FAIL (12420ms)
[2025-09-08 19:45:40] [FAIL] test-single-compinit - Exit code: 141 (index=6 duration=12420ms)
[2025-09-08 19:45:40] [FAIL] test-single-compinit - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
# [test-single-compinit] Testing single compinit execution
FAIL: Multiple compinit calls found (38874)
This indicates redundant completion initialization
Compinit calls found:
+TRACE+ /Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/ohmyzsh/ohmyzsh/master/oh-my-zsh.sh:79 autoload -U compaudit compinit zrecompile
+TRACE+ /Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/ohmyzsh/ohmyzsh/master/oh-my-zsh.sh:127 compinit -i -d /Users/s-a-c/dotfiles/dot-config/zsh/.zcompdump-StandAloneComplexs-MacBook-Pro-5.9
+TRACE+ compinit:74 emulate -L zsh
+TRACE+ compinit:75 setopt extendedglob
+TRACE+ compinit:77 typeset _i_dumpfile _i_files _i_line _i_done _i_dir _i_autodump=1
  Error details:
    [DEBUG] early .zshenv:
        ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
        ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
        ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
    [DEBUG]: localized zgenom configuration:
        ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
        ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
        ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
        ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
        ZGEN_AUTOLOAD_COMPINIT=0
    [DEBUG] early .zshenv:
        ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
        ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
        ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
    [DEBUG]: localized zgenom configuration:
        ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
        ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
        ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
        ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
        ZGEN_AUTOLOAD_COMPINIT=0
    # [test-single-compinit] Testing single compinit execution
    FAIL: Multiple compinit calls found (38874)
    This indicates redundant completion initialization
    Compinit calls found:
    +TRACE+ /Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/ohmyzsh/ohmyzsh/master/oh-my-zsh.sh:79 autoload -U compaudit compinit zrecompile
    +TRACE+ /Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/ohmyzsh/ohmyzsh/master/oh-my-zsh.sh:127 compinit -i -d /Users/s-a-c/dotfiles/dot-config/zsh/.zcompdump-StandAloneComplexs-MacBook-Pro-5.9
    +TRACE+ compinit:74 emulate -L zsh
    +TRACE+ compinit:75 setopt extendedglob
    +TRACE+ compinit:77 typeset _i_dumpfile _i_files _i_line _i_done _i_dir _i_autodump=1

Running tests from: /Users/s-a-c/dotfiles/dot-config/zsh/tests/design

Running (7) test-redesign-sentinels...
5.54s user 5.27s system 18% cpu 1:00.01s total
[2025-09-08 19:46:26] [FAIL] test-sentinels-idempotency-stage3-core - Exit code: 1 (index=8 duration=85ms)
[2025-09-08 19:46:26] [FAIL] test-sentinels-idempotency-stage3-core - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
/Users/s-a-c/dotfiles/dot-config/zsh/tests/design/test-sentinels-idempotency-stage3-core.zsh:141: command not found: grep
/Users/s-a-c/dotfiles/dot-config/zsh/tests/design/test-sentinels-idempotency-stage3-core.zsh:218: command not found: grep
PASS: S1 all-modules-present
PASS: S2 source-ok-security
PASS: S2 source-ok-corefunc
PASS: S2 source-ok-options
PASS: S2 sentinel-set-security
PASS: S2 sentinel-set-corefunc
PASS: S2 sentinel-set-options
PASS: S4a captured-initial-option-snapshot
PASS: S3 resource-ok-security
PASS: S3 resource-ok-corefunc
PASS: S3 resource-ok-options
PASS: S3 path-length-nonshrinking before= after=
PASS: S6 deferred-task-stable (registered)
FAIL: S5a empty-initial-core-func-list
FAIL: S3 original-path-segment-loss
FAIL: S4b option-snapshot-drift

SUMMARY: passes=13 fails=3 skips=0
TEST RESULT: FAIL
[2025-09-08 19:46:26] [PASS] test-core-function-count - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
=== DEBUG ENVIRONMENT ===
PWD: /Users/s-a-c/dotfiles/dot-config/zsh
ZDOTDIR: /Users/s-a-c/dotfiles/dot-config/zsh
REPO_ROOT: <unset>
MODULE_PATH: /opt/homebrew/Cellar/zsh/5.9/lib
ZSH_VERSION: 5.9
ZSH_PATCHLEVEL: zsh-5.9-0-g73d3173
ZSH_MODULE_PATH: <unset>
module_path: /opt/homebrew/Cellar/zsh/5.9/lib
parameter: <unset>
functions[parameter]: <unset>
setopts: nohashdirs
=== END DEBUG ENVIRONMENT ===
PASS: FC1 module-present
PASS: FC2 module-sourced
PASS: FC3 meets-minimum count=9 min=5
PASS: FC4 golden-unset (skipped)
PASS: FC5 fingerprint=917947cfdff47b897bd78d03aefc9d418f2d1321

SUMMARY: passes=5 fails=0 count=9 min=5 golden=<unset> growth_allowed=0
TEST RESULT: PASS (index=9 duration=71ms)
[2025-09-08 19:46:26] [FAIL] test-core-functions-manifest - Exit code: 1 (index=10 duration=63ms)
[2025-09-08 19:46:26] [FAIL] test-core-functions-manifest - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
DEBUG: PWD=/Users/s-a-c/dotfiles/dot-config/zsh
DEBUG: ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
DEBUG: SCRIPT_SRC=/Users/s-a-c/dotfiles/dot-config/zsh/tests/unit/core/test-core-functions-manifest.zsh
DEBUG: THIS_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/tests/unit/core
DEBUG: REPO_ROOT=/Users/s-a-c/dotfiles
DEBUG: CORE_FN_MANIFEST_PATH=/Users/s-a-c/dotfiles/dot-config/zsh/docs/redesignv2/artifacts/golden/core-functions-manifest-stage3.txt
PASS: M1 manifest-present
PASS: M2 manifest-function-count=8
PASS: M4 order-check-skipped
PASS: M5 golden-fingerprint=a44fd77ed39dca8b1aad4cbb113dbe02fb49a45e
PASS: M5 current-fingerprint=393291fb1c6790796b9664ade3b5a58dd177df82
FAIL: M3 unexpected-additions (10): _lazy_gitwrapper command_exists fail has_command pass path_dedupe resolve_script_dir safe_git warn zsh_debug_echo
FAIL: M3 unexpected-removals (8): zf::debug zf::ensure_cmd zf::list_functions zf::log zf::require zf::timed zf::warn zf::with_timing

SUMMARY: passes=5 warns=0 fails=2 golden_count=8 current_count=10 added=10 removed=8 strict_order=0
TEST RESULT: FAIL
[2025-09-08 19:46:26] [SKIP] test-core-functions-namespace - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
SKIP: core functions module not present (.zshrc.d.REDESIGN/10-core-functions.zsh) (index=11 duration=54ms)
[2025-09-08 19:46:26] [PASS] test-integrity-scheduler-single-registration - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
PASS: S1 module-present
PASS: S2 module-sourced-first
PASS: S2a no-new-hook-names (acceptable if using on-demand scheduler)
PASS: S2b scheduler-function-missing (may appear later)
PASS: S4 non-running-state=<unset>
PASS: S3 module-sourced-second
PASS: S3a hook-count-stable=0
PASS: S3b no-hooks-present (acceptable)

SUMMARY: passes=8 fails=0 sched_fn=0 state_initial=<unset>
TEST RESULT: PASS (index=12 duration=119ms)
[2025-09-08 19:46:26] [FAIL] test-option-snapshot-golden - Exit code: 1 (index=13 duration=110ms)
[2025-09-08 19:46:26] [FAIL] test-option-snapshot-golden - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
DEBUG: PWD=/Users/s-a-c/dotfiles/dot-config/zsh
DEBUG: ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
DEBUG: SCRIPT_SRC=/Users/s-a-c/dotfiles/dot-config/zsh/tests/unit/core/test-option-snapshot-golden.zsh
DEBUG: REPO_ROOT=/Users/s-a-c/dotfiles
/Users/s-a-c/dotfiles/dot-config/zsh/tests/unit/core/test-option-snapshot-golden.zsh:print:139: bad option: - 
[2025-09-08 19:46:27] [FAIL] test-option-snapshot-stability - Exit code: 1 (index=14 duration=111ms)
[2025-09-08 19:46:27] [FAIL] test-option-snapshot-stability - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[2025-09-08 19:46:27] [FAIL] test-path-append-invariant - Exit code: 1 (index=15 duration=53ms)
[2025-09-08 19:46:27] [FAIL] test-path-append-invariant - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[2025-09-08 19:46:27] [FAIL] test-trust-anchors - Exit code: 1 (index=16 duration=41ms)
[2025-09-08 19:46:27] [FAIL] test-trust-anchors - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
SUMMARY: Missing security module â€“ aborting remaining checks.
FAIL: I1 security-module-missing (/Users/s-a-c/dotfiles/dot-config/dot-config/zsh/.zshrc.d.REDESIGN/00-security-integrity.zsh)
[2025-09-08 19:46:27] [FAIL] test-fzf-no-compinit - Exit code: 1 (index=17 duration=120ms)
[2025-09-08 19:46:27] [FAIL] test-fzf-no-compinit - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[2025-09-08 19:46:27] [FAIL] test-integrations-idempotence - Exit code: 1 (index=18 duration=45ms)
[2025-09-08 19:46:27] [FAIL] test-integrations-idempotence - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
FAIL: integration module missing: ./.zshrc.pre-plugins.d.REDESIGN/25-lazy-integrations.zsh
[2025-09-08 19:46:27] [FAIL] test-lazy-dispatcher-negative - Exit code: 99 (index=19 duration=81ms)
[2025-09-08 19:46:27] [FAIL] test-lazy-dispatcher-negative - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[2025-09-08 19:46:27] [FAIL] test-path-normalization-edges - Exit code: 1 (index=20 duration=157ms)
[2025-09-08 19:46:27] [FAIL] test-path-normalization-edges - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
FAIL: Path normalization edge invariants not satisfied:
  + Duplicate logical directory after normalization: 
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]
  + Duplicate logical directory after normalization:  localized zgenom configuration
  + Ordering drift at position 1: expected '/usr/local/bin' got '[DEBUG] early .zshenv'
[2025-09-08 19:46:28] [FAIL] test-path-normalization-whitelist - Exit code: 127 (index=21 duration=102ms)
[2025-09-08 19:46:28] [FAIL] test-path-normalization-whitelist - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[2025-09-08 19:46:28] [PASS] test-40-runtime - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
PASS: 40-runtime module basic unit checks (sentinel, function, apply, idempotency) (index=22 duration=52ms)
[2025-09-08 19:46:28] [PASS] test-lazy-framework - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
Test 1: Function registration... [32mPASS[0m
Test 2: First call loading... [32mPASS[0m
Test 3: Subsequent calls efficiency... [32mPASS[0m
Test 4: Missing loader error handling... [32mPASS[0m
Test 5: Failing loader error handling... [32mPASS[0m
Test 6: Argument passing through dispatcher... [32mPASS[0m
Test 7: Registry state persistence... [32mPASS[0m
Test 8: Load state tracking... [32mPASS[0m
Test 9: Function replacement verification... [32mPASS[0m
Test 10: Memory efficiency (registry cleanup)... [32mPASS[0m

=== Lazy Framework Test Summary ===
[32mAll 10 tests passed![0m
Lazy framework implementation verified:
  âœ“ Function registration and replacement
  âœ“ First-call loading behavior
  âœ“ Dispatcher mechanics
  âœ“ Error handling and fallbacks
  âœ“ Argument passing
  âœ“ State tracking (index=23 duration=73ms)
[2025-09-08 19:46:28] [PASS] test-compinit-single-run - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
# [minimal-completion-init] Initialized with /Users/s-a-c/.cache/zsh/zcompdump_5.9 (single-run)
PASS: single compinit run; compdump stable at /Users/s-a-c/.cache/zsh/zcompdump_5.9 (index=24 duration=498ms)
[2025-09-08 19:46:28] [FAIL] test-git-hooks - Exit code: 1 (index=25 duration=62ms)
[2025-09-08 19:46:28] [FAIL] test-git-hooks - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
PASS: pre-commit hook present (.githooks/pre-commit)
PASS: secret-scan pre-commit hook module present (.githooks/pre-commit.d/secret-scan)
PASS: pre-commit hook executable (.githooks/pre-commit)
PASS: secret-scan hook executable (.githooks/pre-commit.d/secret-scan)
require_shebang:2: command not found: grep
FAIL: pre-commit hook missing shebang
[2025-09-08 19:46:29] [FAIL] test-postplugin-compinit-single-run - Exit code: 1 (index=26 duration=470ms)
[2025-09-08 19:46:29] [FAIL] test-postplugin-compinit-single-run - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
# [post-plugin][completion] compinit initialized at /Users/s-a-c/.cache/zsh/zcompdump_5.9 (single-run)
FAIL: Multiple compdump variants detected (3) (redesign path)
[2025-09-08 19:46:29] [PASS] test-prompt-ready-single-emission - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0

===== TEST SUITE START: prompt-ready-single-emission (2025-09-08T18:46:29Z) =====

===== TEST SUITE SUMMARY: prompt-ready-single-emission =====
Total: 0, Passed: 0, Failed: 0, Skipped: 0
Elapsed: 0s
All tests passed âœ“
======================================== (index=27 duration=79ms)
[2025-09-08 19:46:29] [FAIL] test-node-lazy-activation - Exit code: 1 (index=28 duration=43ms)
[2025-09-08 19:46:29] [FAIL] test-node-lazy-activation - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
FAIL: node runtime module missing: ./.zshrc.pre-plugins.d.REDESIGN/15-node-runtime-env.zsh
[2025-09-08 19:46:29] [FAIL] test-ssh-agent-duplicate-spawn - Exit code: 1 (index=29 duration=72ms)
[2025-09-08 19:46:29] [FAIL] test-ssh-agent-duplicate-spawn - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[2025-09-08 19:46:29] [FAIL] test-preplugin-ssh-agent-skeleton - Exit code: 1 (index=30 duration=52ms)
[2025-09-08 19:46:29] [FAIL] test-preplugin-ssh-agent-skeleton - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
Test 1: Module loads without errors... [31mFAIL[0m
[2025-09-08 19:46:30] [PASS] test-async-initial-state - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
Test 1: Initial async state is not RUNNING... [32mPASS[0m
Test 2: Async queue marker present on init... [32mPASS[0m
Test 3: No RUNNING state before prompt completion... [32mPASS[0m
Test 4: Proper state progression after prompt... [32mPASS[0m
Test 5: RUNNING state occurs after prompt completion... [32mPASS[0m
Test 6: State consistency maintained... [32mPASS[0m
Test 7: Premature async start detection... # [async-test] Detected premature RUNNING; permissive mode (not failing)
[32mPASS[0m
Test 8: Log file structure validation... [32mPASS[0m
Test 9: State machine reset capability... [32mPASS[0m
Test 10: Concurrent state protection... [32mPASS[0m

=== Async Initial State Test Summary ===
[32mAll 10 tests passed![0m
Async initial state validation verified:
  âœ“ Initial state is IDLE/QUEUED (not RUNNING)
  âœ“ RUNNING state only after prompt completion
  âœ“ Proper state transitions and timing
  âœ“ Queue markers and logging structure
  âœ“ Premature start detection
  âœ“ State consistency and reset capability (index=31 duration=703ms)
[2025-09-08 19:46:30] [PASS] test-async-state-machine - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
Test 1: Initial async state not RUNNING... [32mPASS[0m
Test 2: Deferred start marker present... [32mPASS[0m
Test 3: Valid state transition after prompt... [32mPASS[0m
Test 4: State transitions are monotonic... [32mPASS[0m
Test 5: No duplicate states at same timestamp... [32mPASS[0m
Test 6: Log file permissions valid... [32mPASS[0m
Test 7: State machine cleanup... [32mPASS[0m

=== Async State Machine Test Summary ===
[32mAll 7 tests passed![0m (index=32 duration=463ms)
[2025-09-08 19:46:31] [FAIL] test-preplugin-integrity-hash - Exit code: 1 (index=33 duration=431ms)
[2025-09-08 19:46:31] [FAIL] test-preplugin-integrity-hash - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
# [integrity-test] Wrote aggregate_input (1506 bytes) to /Users/s-a-c/dotfiles/dot-config/zsh/logs/test-preplugin-aggregate-input
FAIL: pre-plugin integrity issues:
  - Hash mismatch for .zshrc.pre-plugins.d.REDESIGN/01-error-handling-framework.zsh (manifest=523875435cb197325b3546ef388955b525f1878d96cf03b9d566f4c6b8a86b0a recomputed=678ad673104a63ec42e2126137fbde1e2d1725b0f45dfdd0b25e9100b5c4c28f)
  - Hash mismatch for .zshrc.pre-plugins.d.REDESIGN/02-module-hardening.zsh (manifest=dd45c61e3546f894262b2af63ec6dc8c275be8a5999253e19309a4313838dbf0 recomputed=c61b14b211171734a8d0ce331ed96230931fe50ff325073310be2fadaf62d8e0)

---- integrity-current.json (first 40 lines) ----
    {
    "schema": "preplugin-integrity.v1",
    "timestamp": "20250906T105145Z",
    "guidelines_checksum": "unknown",
    "aggregate_sha256": "ee819a5a815b7e5034e79fc3a711d7ad4a8ac14cef6633984a8bc5f9f077c2fd",
    "file_count": 13,
    "files": [
    {"path":".zshenv","sha256":"c4a915cfe9e2c3a230c74f90139f72ea8d864d266a5b34183c1c290bcdb71156","size":   18284,"mtime":"2025-09-03T20:39:00Z"},{"path":".zshrc.pre-plugins.d.REDESIGN/00-path-safety.zsh","sha256":"68dd61c3b57fb5ffcec5226ac5f2d6823e9b8424cfb3c9440ccfd2c83c3b6abe","size":    5790,"mtime":"2025-09-05T23:54:42Z"},{"path":".zshrc.pre-plugins.d.REDESIGN/01-error-handling-framework.zsh","sha256":"523875435cb197325b3546ef388955b525f1878d96cf03b9d566f4c6b8a86b0a","size":   10144,"mtime":"2025-09-06T00:03:57Z"},{"path":".zshrc.pre-plugins.d.REDESIGN/01-segment-lib-bootstrap.zsh","sha256":"53ec749d9bf8df8173e781c5de6f07d978a51e37ac809ef4ac6f31f03fedad3e","size":    2559,"mtime":"2025-09-02T23:30:35Z"},{"path":".zshrc.pre-plugins.d.REDESIGN/02-guidelines-checksum.zsh","sha256":"cb41855edeef1a7da5600f94d7be76fe4c7b8adbb82ed68732bcd158cbbcf485","size":    4718,"mtime":"2025-09-05T23:54:42Z"},{"path":".zshrc.pre-plugins.d.REDESIGN/02-module-hardening.zsh","sha256":"dd45c61e3546f894262b2af63ec6dc8c275be8a5999253e19309a4313838dbf0","size":    9248,"mtime":"2025-09-05T23:45:45Z"},{"path":".zshrc.pre-plugins.d.REDESIGN/05-fzf-init.zsh","sha256":"aee6b513605fcb9445df4044e92150012e1108857d268e6669b7810953bbb1ff","size":    1627,"mtime":"2025-09-05T23:54:42Z"},{"path":".zshrc.pre-plugins.d.REDESIGN/10-lazy-framework.zsh","sha256":"35e203adeddce268aab350a23792627639a09273494063b8d30fae20fa041ea8","size":    6971,"mtime":"2025-09-05T23:54:42Z"},{"path":".zshrc.pre-plugins.d.REDESIGN/15-node-runtime-env.zsh","sha256":"883290e674c27e09abbdc33161ef004f836246b0381be24393ee4412d177553c","size":    2008,"mtime":"2025-09-05T23:54:42Z"},{"path":".zshrc.pre-plugins.d.REDESIGN/20-macos-defaults-deferred.zsh","sha256":"155b1381f2c68f3c64a46eb86db780b54988235c43e1ecd1d534c85463eccf35","size":    3054,"mtime":"2025-09-05T23:54:42Z"},{"path":".zshrc.pre-plugins.d.REDESIGN/25-lazy-integrations.zsh","sha256":"9b065a953409c3e8c5eac7c6be855ae5be07d7502d57feefc709f85bcd1c1b97","size":    2838,"mtime":"2025-09-05T23:54:42Z"},{"path":".zshrc.pre-plugins.d.REDESIGN/30-ssh-agent.zsh","sha256":"de0fafcfe02abb934df59834ea9bac8fc037fb8d48e3602977787727d1ff6009","size":    4534,"mtime":"2025-09-05T23:54:42Z"},{"path":".zshrc.pre-plugins.d.REDESIGN/40-pre-plugin-reserved.zsh","sha256":"8672f208365251a02ec950c675d78d86db4f632c312d6be68bb21cd2286a4bb0","size":    3763,"mtime":"2025-09-05T23:54:42Z"}
    ]
    }
------------------------------------------------
[2025-09-08 19:46:31] [SKIP] test-core-micro-bench-smoke - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
SKIP: harness missing (/Users/s-a-c/dotfiles/dot-config/dot-config/zsh/tests/performance/core-functions/bench-core-functions.zsh) (index=34 duration=38ms)
[2025-09-08 19:46:31] [SKIP] test-async-manifest-integrity - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
PASS: I1 manifest present
PASS: I2 jq available
PASS: I7 no duplicate task IDs
PASS: I5 expected_active_shadow_tasks matches enabled set
PASS: I6 planned future tasks remain disabled
PASS: I8 required fields present for all enabled tasks
/Users/s-a-c/dotfiles/dot-config/zsh/tools/async-dispatcher.zsh:415: parse error near `else'
[asyncd][debug] Initializing async dispatcher (mode=shadow zpty=0)
[asyncd][debug] Parsing async manifest: /Users/s-a-c/dotfiles/dot-config/zsh/docs/redesignv2/async/manifest.json
[asyncd][debug] Registered task id=theme_extras priority=cosmetic timeout_ms=800 label=theme_extras_init_async
cmd=': ${ASYNC_TEST_FAKE_LATENCY_MS:=0}; [[ $ASYNC_TEST_FAKE_LATENCY_MS -gt 0 ]] && sleep $((${ASYNC_TEST_FAKE_LATENCY_MS}/1000.0)) || true'
[asyncd][debug] Registered task id=completion_cache_scan priority=cosmetic timeout_ms=1500 label=completion_cache_scan_async
[async-tasks][debug] Shadow default tasks already registered
async_tasks_phaseA_shadow_bootstrap:13: command not found: async_launch_shadow_tasks
[async-tasks][debug] Async shadow bootstrap complete (precmd hook active)
[asyncd][debug] Initializing async dispatcher (mode=shadow zpty=0)
[asyncd][debug] Parsing async manifest: /Users/s-a-c/dotfiles/dot-config/zsh/docs/redesignv2/async/manifest.json
[asyncd][warn] Task 'theme_extras' already registered â€“ replacing
[asyncd][debug] Registered task id=theme_extras priority=cosmetic timeout_ms=800 label=theme_extras_init_async
cmd=': ${ASYNC_TEST_FAKE_LATENCY_MS:=0}; [[ $ASYNC_TEST_FAKE_LATENCY_MS -gt 0 ]] && sleep $((${ASYNC_TEST_FAKE_LATENCY_MS}/1000.0)) || true'
[asyncd][warn] Task 'completion_cache_scan' already registered â€“ replacing
[asyncd][debug] Registered task id=completion_cache_scan priority=cosmetic timeout_ms=1500 label=completion_cache_scan_async
[async-tasks][debug] Shadow default tasks already registered
async_tasks_phaseA_shadow_bootstrap:13: command not found: async_launch_shadow_tasks
[async-tasks][debug] Async shadow bootstrap complete (precmd hook active)
PASS: I3 all enabled manifest tasks registered
PASS: I4 no unexpected runtime tasks registered

Summary: PASS=8 FAIL=0 WARN=0 SKIP=0 (index=35 duration=265ms)
[2025-09-08 19:46:32] [FAIL] test-async-shadow-mode - Exit code: 1 (index=36 duration=218ms)
[2025-09-08 19:46:32] [FAIL] test-async-shadow-mode - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
PASS: I1 baseline capture succeeded
PASS: I2 shadow capture succeeded
FAIL: I3 baseline missing required segments: pre_plugin_total post_plugin_total prompt_ready compinit p10k_theme
FAIL: I3 shadow missing required segments: pre_plugin_total post_plugin_total prompt_ready compinit p10k_theme
FAIL: I4 unable to parse prompt_ready ms values (base='' shadow='')
FAIL: I5 missing start segment for task 'theme_extras' in shadow capture
FAIL: I5 missing start segment for task 'completion_cache_scan' in shadow capture
PASS: I7 no required segments removed in shadow mode

Summary: PASS=3 FAIL=5 WARN=0 SKIP=0
Failure Details:
 - I3 baseline missing required segments: pre_plugin_total post_plugin_total prompt_ready compinit p10k_theme
 - I3 shadow missing required segments: pre_plugin_total post_plugin_total prompt_ready compinit p10k_theme
 - I4 unable to parse prompt_ready ms values (base='' shadow='')
 - I5 missing start segment for task 'theme_extras' in shadow capture
 - I5 missing start segment for task 'completion_cache_scan' in shadow capture
[2025-09-08 19:47:32] [FAIL] test-bench-core-regression - Exit code: 124 (index=37 duration=60015ms)
[2025-09-08 19:47:32] [FAIL] test-bench-core-regression - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[2025-09-08 19:47:32] [SKIP] test-gitstatus-instrumentation - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
SKIP: I1 gitstatus plugin file not found â€“ instrumentation segment not expected. (index=38 duration=39ms)
[2025-09-08 19:47:32] [FAIL] test-guidelines-checksum-present - Exit code: 1 (index=39 duration=42ms)
[2025-09-08 19:47:32] [FAIL] test-guidelines-checksum-present - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[31mFAIL[0m: guidelines_checksum key missing (I2)
[2025-09-08 19:47:32] [FAIL] test-multi-sample-variance - Exit code: 2 (index=40 duration=58ms)
[2025-09-08 19:47:32] [FAIL] test-multi-sample-variance - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
PASS: I1 aggregate file present (/Users/s-a-c/dotfiles/dot-config/zsh/docs/redesignv2/artifacts/metrics/perf-multi-current.json)
INFO: Detected samples=3
PASS: I2 schema perf-multi.v1
PASS: I3 samples >= 3 (actual 3)
awk: syntax error at source line 2
 context is
	    $0 ~ m { >>>  in <<< =1 }
awk: illegal statement at source line 2
awk: illegal statement at source line 2
	extra }
[2025-09-08 19:47:39] [FAIL] test-p10k-instrumentation - Exit code: 1 (index=41 duration=7629ms)
[2025-09-08 19:47:39] [FAIL] test-p10k-instrumentation - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
PASS: I1 theme file detected: /Users/s-a-c/dotfiles/dot-config/zsh/.p10k.zsh
INFO: Segment log size: 1575 bytes
PASS: I2 SEGMENT line present for p10k_theme
FAIL: I3 invalid or missing ms value in line: SEGMENT name=p10k_theme ms=12 phase=post_plugin sample=unknown
INFO: First SEGMENT lines (context):
SEGMENT name=pre_plugin_total ms=471 phase=pre_plugin sample=unknown
SEGMENT name=compinit ms=19 phase=post_plugin sample=unknown
SEGMENT name=p10k_theme ms=12 phase=post_plugin sample=unknown
SEGMENT name=syntax_highlight_init ms=9 phase=post_plugin sample=unknown
SEGMENT name=history_backend_init ms=7 phase=post_plugin sample=unknown
SEGMENT name=theme_extras_init ms=8 phase=post_plugin sample=unknown
SEGMENT name=completion_cache_scan ms=7 phase=post_plugin sample=unknown
SEGMENT name=vcs_helpers_init ms=7 phase=post_plugin sample=unknown
SEGMENT name=fzf_tools_init ms=7 phase=post_plugin sample=unknown

FAIL: 1 invariant(s) failed:
  - I3 invalid or missing ms value in line: SEGMENT name=p10k_theme ms=12 phase=post_plugin sample=unknown

Remediation suggestions:
  * Ensure 60-p10k-instrument.zsh is present and sourced in post-plugin sequence.
  * Confirm segment-lib.zsh loads before the theme instrumentation module.
  * Verify PERF_PROMPT_HARNESS=1 and PERF_SEGMENT_LOG are set during test invocation.
  * Check that the theme file is readable and not short-circuiting due to prior load sentinel.
2.98s user 3.24s system 81% cpu 7.622s total
[2025-09-08 19:47:40] [PASS] test-perf-drift-badge-presence - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
WARN: I1 badge-missing (docs/redesignv2/artifacts/badges/perf-drift.json)
TEST RESULT: PASS (index=42 duration=48ms)
[2025-09-08 19:47:40] [SKIP] test-perf-ledger-drift - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
SKIP: insufficient data for drift evaluation
WARN: C1 current-ledger-missing (docs/redesignv2/artifacts/metrics/perf-ledger.json)
WARN: C2 no-reference-history (skipping drift evaluation)
TEST RESULT: PASS (index=43 duration=42ms)
[2025-09-08 19:47:40] [PASS] test-perf-monotonic-lifecycle - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
PASS: I1 source-detected (json)
WARN: I2 pre_plugin_total-nonpositive (0)
WARN: I3 post_plugin_total-zero (0)
WARN: I4 prompt_ready-zero (0)
WARN: I5 monotonic-deferred (one or more zero values) pre=0 post=0 prompt=0
TEST RESULT: PASS (index=44 duration=93ms)
[2025-09-08 19:47:40] [SKIP] test-perf-segment-budget-overrides - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
Found segment file: /Users/s-a-c/dotfiles/dot-config/zsh/docs/redesignv2/artifacts/metrics/perf-current-segments.txt
SKIP: compinit segment not present (instrumentation not active yet). (index=45 duration=45ms)
[2025-09-08 19:47:40] [SKIP] test-postplugin-segments-present - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
SKIP: segments_available!=true (segments instrumentation not active yet) (index=46 duration=45ms)
[2025-09-08 19:48:01] [FAIL] test-preplugin-baseline-threshold - Exit code: 1 (index=47 duration=20823ms)
[2025-09-08 19:48:01] [FAIL] test-preplugin-baseline-threshold - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
FAIL: pre_plugin_total regression: current=3073ms baseline_mean=35ms allowed=7% threshold=37ms
9.80s user 8.31s system 86% cpu 20.813s total
[2025-09-08 19:48:01] [FAIL] test-preplugin-segment-threshold - Exit code: 1 (index=48 duration=95ms)
[2025-09-08 19:48:01] [FAIL] test-preplugin-segment-threshold - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
FAIL: pre-plugin segment threshold violations:
  - I4 pre_plugin_cost_ms=3073ms exceeds PREPLUGIN_MAX_MS=150ms
  - I5 regression: pre_ms=3073ms > allowed 34ms (baseline=30ms, pct=15%)

---- perf-current.json (head) ----
  {
    "timestamp":"20250908T194740",
    "mean_ms":10249,
    "cold_ms":11640,
    "warm_ms":8859,
    "pre_plugin_cost_ms":3073,
    "post_plugin_cost_ms":10246,
    "prompt_ready_ms":10246,
    "segments_available":true,
    "marker_provenance":"approx",
    "lifecycle": {
      "pre_plugin_total_ms": 3073,
      "post_plugin_total_ms": 10246,
      "prompt_ready_ms": 10246,
      "approx_prompt_ready": 1,
      "marker_provenance":"approx"
    },
    "markers_observed": {
      "pre_native_any": 0,
      "post_native_any": 0,
      "prompt_native_any": 0,
      "prompt_native_all": 0
    },
    "post_plugin_segments": []
  }
----------------------------------
[2025-09-08 19:48:01] [SKIP] test-preplugin-variance-eval - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
SKIP: variance evaluation tool missing (/Users/s-a-c/dotfiles/dot-config/dot-config/zsh/tools/preplugin-variance-eval.zsh) (index=49 duration=50ms)
[2025-09-08 19:48:01] [FAIL] test-promotion-guard-perf-block - Exit code: 2 (index=50 duration=100ms)
[2025-09-08 19:48:01] [FAIL] test-promotion-guard-perf-block - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
PASS: I1 guard script present
FAIL: I2 expected exactly one PERF_GUARD_BEGIN/END pair (found begin=0 end=0)
awk: syntax error at source line 2
 context is
	  /^--- PERF_GUARD_BEGIN ---$/ >>>  {in <<< =1; next}
awk: illegal statement at source line 2
awk: illegal statement at source line 2
[2025-09-08 19:48:01] [FAIL] test-prompt-ready-threshold - Exit code: 1 (index=51 duration=89ms)
[2025-09-08 19:48:01] [FAIL] test-prompt-ready-threshold - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
FAIL: prompt readiness threshold violations:
  - I4 prompt_ready_ms=10246ms exceeds PROMPT_READY_MAX_MS=400ms

---- perf-current.json (excerpt) ----
  {
    "timestamp":"20250908T194740",
    "mean_ms":10249,
    "cold_ms":11640,
    "warm_ms":8859,
    "pre_plugin_cost_ms":3073,
    "post_plugin_cost_ms":10246,
    "prompt_ready_ms":10246,
    "segments_available":true,
    "marker_provenance":"approx",
    "lifecycle": {
      "pre_plugin_total_ms": 3073,
      "post_plugin_total_ms": 10246,
      "prompt_ready_ms": 10246,
      "approx_prompt_ready": 1,
      "marker_provenance":"approx"
    },
    "markers_observed": {
      "pre_native_any": 0,
      "post_native_any": 0,
      "prompt_native_any": 0,
      "prompt_native_all": 0
    },
    "post_plugin_segments": []
  }
-------------------------------------
[2025-09-08 19:48:01] [FAIL] test-required-segment-labels - Exit code: 1 (index=52 duration=85ms)
[2025-09-08 19:48:01] [FAIL] test-required-segment-labels - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
PASS: I1 segment file found: /Users/s-a-c/dotfiles/dot-config/zsh/docs/redesignv2/artifacts/metrics/perf-current-segments.txt
grep: empty (sub)expression
FAIL: I3 malformed SEGMENT line for required label 'pre_plugin_total': SEGMENT name=pre_plugin_total ms=3073 phase=pre_plugin sample=mean
grep: empty (sub)expression
FAIL: I3 malformed SEGMENT line for required label 'post_plugin_total': SEGMENT name=post_plugin_total ms=10246 phase=post_plugin sample=mean
grep: empty (sub)expression
FAIL: I3 malformed SEGMENT line for required label 'prompt_ready': SEGMENT name=prompt_ready ms=10246 phase=prompt sample=mean
FAIL: I2 missing required label: compinit
FAIL: I2 missing required label: p10k_theme
WARN: Optional segment 'gitstatus_init' not present
WARN: Optional segment 'policy_guidelines_checksum' not present

FAIL: 5 required invariant(s) failed.
  - I3 malformed SEGMENT line for required label 'pre_plugin_total': SEGMENT name=pre_plugin_total ms=3073 phase=pre_plugin sample=mean
  - I3 malformed SEGMENT line for required label 'post_plugin_total': SEGMENT name=post_plugin_total ms=10246 phase=post_plugin sample=mean
  - I3 malformed SEGMENT line for required label 'prompt_ready': SEGMENT name=prompt_ready ms=10246 phase=prompt sample=mean
  - I2 missing required label: compinit
  - I2 missing required label: p10k_theme

Remediation:
  * Ensure instrumentation modules (55-compinit-instrument, 60-p10k-instrument,
    65-vcs-gitstatus-instrument) are sourced in the redesigned post-plugin path.
  * Run tools/perf-capture.zsh to regenerate perf-current-segments.txt.
  * Verify PERF_SEGMENT_LOG is being set during harnessed startup for capture.
  * Confirm segment-lib.zsh is sourced before hotspot instrumentation modules.
[2025-09-08 19:48:01] [FAIL] test-required-stage3-segments - Exit code: 1 (index=53 duration=72ms)
[2025-09-08 19:48:01] [FAIL] test-required-stage3-segments - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
PASS: I1 segments-file-present
PASS: I2 all-required-labels-present
PASS: I3 numeric-parse-ok
PASS: I5 no-zero-values
FAIL: I3 non-numeric-ms:pre_plugin_total
FAIL: I3 non-numeric-ms:post_plugin_total
FAIL: I3 non-numeric-ms:prompt_ready
FAIL: I4 insufficient-nonzero count=0 required>=2
TEST RESULT: FAIL (4 invariant(s) failed)
[2025-09-08 19:48:02] [FAIL] test-segment-lines-present - Exit code: 1 (index=54 duration=154ms)
[2025-09-08 19:48:02] [FAIL] test-segment-lines-present - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
PASS: I1 segment file found at /Users/s-a-c/dotfiles/dot-config/zsh/docs/redesignv2/artifacts/metrics/perf-current-segments.txt
PASS: I2 segment file non-empty (size 197 bytes)
PASS: I3 SEGMENT line count >= 3 (found 3)
FAIL: I6 non-numeric ms for pre_plugin_total: 
FAIL: I6 non-numeric ms for post_plugin_total: 
FAIL: I6 non-numeric ms for prompt_ready: 
PASS: I4 segment line format valid
PASS: I5 required segment labels present (pre_plugin_total post_plugin_total prompt_ready)
INFO: Policy checksum segment absent (add for richer perf-diff correlation)
INFO: Optional segments missing (ok): compinit p10k_theme

FAIL: 3 invariant(s) failed:
  - I6 non-numeric ms for pre_plugin_total: 
  - I6 non-numeric ms for post_plugin_total: 
  - I6 non-numeric ms for prompt_ready: 

Remediation suggestions:
  * Ensure tools/perf-capture.zsh ran and wrote perf-current-segments.txt
  * Verify segment-lib.zsh emits unified SEGMENT lines (check PERF_SEGMENT_LOG)
  * Confirm required modules (pre/post plugin, prompt readiness) are sourced
  * Add policy checksum marker via 02-guidelines-checksum.zsh if missing
[2025-09-08 19:48:02] [FAIL] test-segment-regression - Exit code: 127 (index=55 duration=563ms)
[2025-09-08 19:48:02] [FAIL] test-segment-regression - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
Test 1: Required metrics files exist... [32mPASS[0m
Test 2: Current metrics are valid... [32mPASS[0m
Test 3: Segment timing data available... [32mPASS[0m
  (segment data not available - skipping segment-specific tests)
Test 4: Post-plugin cost within absolute limit (â‰¤500ms)... [32mPASS[0m
  (segment data unavailable, test skipped)
Test 5: Segment regression vs baseline... [32mPASS[0m
  (insufficient segment data for comparison)
Test 6: Pre-plugin segment efficiency... [32mPASS[0m
  (pre-plugin segment data unavailable)
Test 7: Segment timing consistency... [32mPASS[0m
  (detailed segment data unavailable)
Test 8: Overall segment balance... [32mPASS[0m
  (insufficient segment data for balance check)
Test 9: Performance trend analysis... 
[2025-09-08 19:48:02] [SKIP] test-style-audit-shell - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
SKIP: style audit tool missing (/Users/s-a-c/dotfiles/dot-config/dot-config/zsh/tools/style-audit-shell.sh) (index=56 duration=41ms)
[2025-09-08 19:48:02] [FAIL] test-hooks-badge - Exit code: 1 (index=57 duration=43ms)
[2025-09-08 19:48:02] [FAIL] test-hooks-badge - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
/Users/s-a-c/dotfiles/dot-config/zsh/tests/style/hooks/test-hooks-badge.zsh:45: GITHUB_REF: parameter not set
[2025-09-08 19:48:02] [FAIL] test-infra-health-badge - Exit code: 1 (index=58 duration=44ms)
[2025-09-08 19:48:03] [FAIL] test-infra-health-badge - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
/Users/s-a-c/dotfiles/dot-config/zsh/tests/style/infra/test-infra-health-badge.zsh:45: GITHUB_REF: parameter not set
[2025-09-08 19:48:03] [FAIL] test-docs-governance - Exit code: 1 (index=59 duration=342ms)
[2025-09-08 19:48:03] [FAIL] test-docs-governance - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[docs-gov] Violations detected (10):
  - glossary.mdross_link_table_unlinked_md
  - glossary.mdross_link_table_no_markdown_links
  - IMPLEMENTATION_PROGRESS.md:missing_footer(nav=0 back=0 prevnext=1)
  - metrics/structure-audit.md:missing_footer(nav=0 back=0 prevnext=0)
  - planning/gating-flags.md:missing_footer(nav=0 back=0 prevnext=0)
  - planning/implementation-plan.md:missing_footer(nav=0 back=0 prevnext=0)
  - planning/post-plugin-redesign-analysis.md:missing_footer(nav=0 back=0 prevnext=1)
  - README.mdross_link_table_unlinked_md
  - review/completion-audit.mdross_link_table_unlinked_md
  - review/issues.mdross_link_table_unlinked_md
[2025-09-08 19:48:03] [FAIL] test-legacy-checksums - Exit code: 1 (index=60 duration=81ms)
[2025-09-08 19:48:03] [FAIL] test-legacy-checksums - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
FAIL legacy checksum drift detected
[DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
/Users/s-a-c/dotfiles/dot-config/zsh/tools/verify-legacy-checksums.zsh:11: read-only variable: status
[2025-09-08 19:48:03] [FAIL] test-plugin-order - Exit code: 1 (index=61 duration=38ms)
[2025-09-08 19:48:03] [FAIL] test-plugin-order - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
FAIL plugin order mismatch
Expected: hlissner/zsh-autopair composer laravel gh iterm2 nvm npm aliases eza zoxide fzf mroth/evalcache mafredri/zsh-async romkatv/zsh-defer
Actual:     hlissner/zsh-autopair composer laravel gh iterm2 aliases eza zoxide fzf mroth/evalcache mafredri/zsh-async romkatv/zsh-defer
[2025-09-08 19:48:03] [PASS] test-postplugin-disabled-drift - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
PASS post-plugin disabled inventory unchanged (44 files) (index=62 duration=60ms)
[2025-09-08 19:48:03] [PASS] test-postplugin-drift - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
PASS post-plugin inventory unchanged (5 files) (index=63 duration=51ms)
[2025-09-08 19:48:03] [FAIL] test-postplugin-structure - Exit code: 1 (index=64 duration=58ms)
[2025-09-08 19:48:03] [FAIL] test-postplugin-structure - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
FAIL unexpected file count in post-plugin redesign: got 18 expected 11
[2025-09-08 19:48:03] [PASS] test-preplugin-drift - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
PASS pre-plugin inventory unchanged (12 files) (index=65 duration=46ms)
[2025-09-08 19:48:03] [FAIL] test-preplugin-no-compinit - Exit code: 1 (index=66 duration=44ms)
[2025-09-08 19:48:03] [FAIL] test-preplugin-no-compinit - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
FAIL pre-plugin skeleton must not reference compinit
/Users/s-a-c/dotfiles/dot-config/zsh/.zshrc.pre-plugins.d.REDESIGN/01-segment-lib-bootstrap.zsh:8:#   so that subsequent instrumentation modules (compinit, p10k, gitstatus, async,
/Users/s-a-c/dotfiles/dot-config/zsh/.zshrc.pre-plugins.d.REDESIGN/05-fzf-init.zsh:7:# PURPOSE: Lightweight FZF environment + key bindings (NO compinit, NO heavy plugin sourcing).
/Users/s-a-c/dotfiles/dot-config/zsh/.zshrc.pre-plugins.d.REDESIGN/05-fzf-init.zsh:8:# GUARANTEE: This module MUST NOT invoke compinit, modify completion dump, or source large plugin frameworks.
/Users/s-a-c/dotfiles/dot-config/zsh/.zshrc.pre-plugins.d.REDESIGN/05-fzf-init.zsh:9:# TEST HOOK: test-fzf-no-compinit.zsh asserts absence of compinit side-effects.
/Users/s-a-c/dotfiles/dot-config/zsh/.zshrc.pre-plugins.d.REDESIGN/05-fzf-init.zsh:11:# Sentinel: block if any variable indicates compinit already ran (defensive)
/Users/s-a-c/dotfiles/dot-config/zsh/.zshrc.pre-plugins.d.REDESIGN/05-fzf-init.zsh:13:    zsh_debug_echo "# [pre-plugin][fzf] WARNING: compinit sentinel detected early; investigate ordering"
/Users/s-a-c/dotfiles/dot-config/zsh/.zshrc.pre-plugins.d.REDESIGN/05-fzf-init.zsh:15:if typeset -f compinit >/dev/null 2>&1; then
/Users/s-a-c/dotfiles/dot-config/zsh/.zshrc.pre-plugins.d.REDESIGN/05-fzf-init.zsh:16:    zsh_debug_echo "# [pre-plugin][fzf] NOTE: compinit function present but not executed here"
/Users/s-a-c/dotfiles/dot-config/zsh/.zshrc.pre-plugins.d.REDESIGN/05-fzf-init.zsh:28:        # key-bindings.zsh from fzf does not run compinit; safe to source
/Users/s-a-c/dotfiles/dot-config/zsh/.zshrc.pre-plugins.d.REDESIGN/05-fzf-init.zsh:32:zsh_debug_echo "# [pre-plugin] 05-fzf-init loaded (no-compinit)"
[2025-09-08 19:48:04] [PASS] test-preplugin-structure - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
PASS pre-plugin structure (8 files) (index=67 duration=34ms)
[2025-09-08 19:48:04] [SKIP] test-style-api-basic - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
SKIP (placeholder) style API basic (index=68 duration=37ms)
[2025-09-08 19:48:04] [SKIP] test-style-api-collision - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
SKIP (placeholder) style API collision (index=69 duration=33ms)
[2025-09-08 19:48:04] [SKIP] test-style-api-idempotent - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
SKIP (placeholder) style API idempotent (index=70 duration=39ms)
[2025-09-08 19:48:04] [SKIP] test-style-api-order - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
SKIP (placeholder) style API order determinism (index=71 duration=37ms)
[2025-09-08 19:48:04] [SKIP] test-style-snapshot-equiv - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
SKIP (placeholder) style snapshot equivalence (index=72 duration=36ms)
[2025-09-08 19:48:04] [SKIP] test-style-finalizer-metrics - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
SKIP (placeholder) style finalizer metrics (index=73 duration=38ms)
[2025-09-08 19:48:04] [SKIP] test-style-finalizer-order - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
SKIP (placeholder) style finalizer order determinism (index=74 duration=36ms)
[2025-09-08 19:48:04] [SKIP] test-variant-default-equiv - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
SKIP (placeholder) variant default equivalence (index=75 duration=37ms)
[2025-09-08 19:48:04] [SKIP] test-variant-high-contrast - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
SKIP (placeholder) variant high contrast (index=76 duration=36ms)
[2025-09-08 19:48:04] [SKIP] test-variant-low-color-auto - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
SKIP (placeholder) low-color auto variant (index=77 duration=37ms)
[2025-09-08 19:48:04] [SKIP] test-variant-override-precedence - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
SKIP (placeholder) variant override precedence (index=78 duration=37ms)
[2025-09-08 19:48:04] [FAIL] test-structure-drift - Exit code: 1 (index=79 duration=41ms)
[2025-09-08 19:48:04] [FAIL] test-structure-drift - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
/Users/s-a-c/dotfiles/dot-config/zsh/tests/style/phase06/test-structure-drift.zsh:23: read-only variable: modules
[2025-09-08 19:48:04] [SKIP] test-style-snapshot-final - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
SKIP (placeholder) final style snapshot integrity (index=80 duration=36ms)
[2025-09-08 19:48:04] [SKIP] test-variant-timing - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
SKIP (placeholder) variant timing threshold (index=81 duration=37ms)
[2025-09-08 19:48:04] [PASS] test-future-plugin-path-guards - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
PASS: baseline (no candidate directories)

SUMMARY: passes=1 fails=0 scanned_dirs=0 violations=0 (index=82 duration=41ms)
[2025-09-08 19:48:05] [SKIP] test-path-resolution-enforcement - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
SKIP: enforcement tool missing (/Users/s-a-c/dotfiles/dot-config/dot-config/zsh/tools/enforce-path-resolution.zsh) (index=83 duration=40ms)
[2025-09-08 19:48:05] [FAIL] test-helpers - Exit code: 1 (index=84 duration=34ms)
[2025-09-08 19:48:05] [FAIL] test-helpers - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
ERROR: Source/execute detection script not found: /Users/s-a-c/dotfiles/dot-config/zsh/.zshrc.d/00_01-source-execute-detection.zsh
[2025-09-08 19:48:05] [FAIL] test-async-compile - Exit code: 1 (index=85 duration=38ms)
[2025-09-08 19:48:05] [FAIL] test-async-compile - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
ERROR: Source/execute detection script not found: /Users/s-a-c/dotfiles/dot-config/zsh/.zshrc.d/00_01-source-execute-detection.zsh
[2025-09-08 19:48:05] [FAIL] test-completion-management - Exit code: 1 (index=86 duration=33ms)
[2025-09-08 19:48:05] [FAIL] test-completion-management - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
ERROR: Source/execute detection script not found: /Users/s-a-c/dotfiles/dot-config/zsh/.zshrc.d/00_01-source-execute-detection.zsh
[2025-09-08 19:48:05] [FAIL] test-comprehensive-detection - Exit code: 1 (index=87 duration=34ms)
[2025-09-08 19:48:05] [FAIL] test-comprehensive-detection - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
ERROR: Source/execute detection script not found: /Users/s-a-c/dotfiles/dot-config/zsh/.zshrc.d/00_01-source-execute-detection.zsh
[2025-09-08 19:48:05] [FAIL] test-config-consistency - Exit code: 1 (index=88 duration=31ms)
[2025-09-08 19:48:05] [FAIL] test-config-consistency - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
ERROR: Source/execute detection script not found: /Users/s-a-c/dotfiles/dot-config/zsh/.zshrc.d/00_01-source-execute-detection.zsh
[2025-09-08 19:48:05] [FAIL] test-config-validation - Exit code: 1 (index=89 duration=35ms)
[2025-09-08 19:48:05] [FAIL] test-config-validation - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
ERROR: Source/execute detection script not found: /Users/s-a-c/dotfiles/dot-config/zsh/.zshrc.d/00_01-source-execute-detection.zsh
[2025-09-08 19:48:05] [PASS] test-consistency-quick - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
========================================================
Quick Consistency Validation
========================================================
Test 1: Checking for double-hash comments...
âœ… No double-hash comments found
Test 2: Checking shebang consistency...
find: /Users/s-a-c/dotfiles/dot-config/zsh/.zshrc.d/00-core: No such file or directory
âœ… All shebangs are consistent
Test 3: Checking function declarations...
âœ… No 'function' keyword usage found
Test 4: Checking for tab characters...
âœ… No tab characters found

========================================================
Consistency Results
========================================================
Tests passed: 4/4
Consistency Score: 100%
ðŸ† PERFECT: 100% consistency achieved! (index=90 duration=57ms)
[2025-09-08 19:48:05] [FAIL] test-consistency-validation - Exit code: 1 (index=91 duration=36ms)
[2025-09-08 19:48:05] [FAIL] test-consistency-validation - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
ERROR: Source/execute detection script not found: /Users/s-a-c/dotfiles/dot-config/zsh/.zshrc.d/00_01-source-execute-detection.zsh
[2025-09-08 19:48:05] [FAIL] test-context-config - Exit code: 1 (index=92 duration=36ms)
[2025-09-08 19:48:05] [FAIL] test-context-config - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
ERROR: Source/execute detection script not found: /Users/s-a-c/dotfiles/dot-config/zsh/.zshrc.d/00_01-source-execute-detection.zsh
[2025-09-08 19:48:05] [FAIL] test-detection-integration - Exit code: 1 (index=93 duration=33ms)
[2025-09-08 19:48:05] [FAIL] test-detection-integration - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
ERROR: Source/execute detection script not found: /Users/s-a-c/dotfiles/dot-config/zsh/.zshrc.d/00_01-source-execute-detection.zsh
[2025-09-08 19:48:05] [FAIL] test-doc-headers - Exit code: 1 (index=94 duration=34ms)
[2025-09-08 19:48:05] [FAIL] test-doc-headers - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
ERROR: Source/execute detection script not found: /Users/s-a-c/dotfiles/dot-config/zsh/.zshrc.d/00_01-source-execute-detection.zsh
[2025-09-08 19:48:05] [FAIL] test-documentation - Exit code: 1 (index=95 duration=33ms)
[2025-09-08 19:48:05] [FAIL] test-documentation - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
ERROR: Source/execute detection script not found: /Users/s-a-c/dotfiles/dot-config/zsh/.zshrc.d/00_01-source-execute-detection.zsh
[2025-09-08 19:48:05] [FAIL] test-env-context - Exit code: 1 (index=96 duration=36ms)
[2025-09-08 19:48:05] [FAIL] test-env-context - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
ERROR: Source/execute detection script not found: /Users/s-a-c/dotfiles/dot-config/zsh/.zshrc.d/00_01-source-execute-detection.zsh
[2025-09-08 19:48:05] [FAIL] test-env-sanitize - Exit code: 1 (index=97 duration=33ms)
[2025-09-08 19:48:06] [FAIL] test-env-sanitize - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
ERROR: Source/execute detection script not found: /Users/s-a-c/dotfiles/dot-config/zsh/.zshrc.d/00_01-source-execute-detection.zsh
[2025-09-08 19:48:06] [FAIL] test-error-handling-context - Exit code: 1 (index=98 duration=37ms)
[2025-09-08 19:48:06] [FAIL] test-error-handling-context - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
ERROR: Source/execute detection script not found: /Users/s-a-c/dotfiles/dot-config/zsh/.zshrc.d/00_01-source-execute-detection.zsh
[2025-09-08 19:48:06] [FAIL] test-final-validation - Exit code: 1 (index=99 duration=34ms)
[2025-09-08 19:48:06] [FAIL] test-final-validation - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
ERROR: Source/execute detection script not found: /Users/s-a-c/dotfiles/dot-config/zsh/.zshrc.d/00_01-source-execute-detection.zsh
[2025-09-08 19:48:07] [PASS] test-git-cache - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
==============================================================================
Git Configuration Caching Test Suite
Started: 2025-09-08T18:48:06Z
==============================================================================

âŒ Git caching system not found at expected location

ðŸ§ª Running git cache functionality tests...

âœ… Test 1: Git cache directory exists - PASSED
   Details: Cache directory found at /Users/s-a-c/.config/zsh/.cache
âŒ Test 2: Git wrapper function loaded - FAILED
   Error: git() function not found
âŒ Test 3: Lazy cache function exists - FAILED
   Error: _cache_git_config() function not found
âŒ Test 4: Git refresh function exists - FAILED
   Error: git-refresh-config() function not found
âŒ Test 5: Cache generation on git command - FAILED
   Error: Cache file not created after git command
âŒ Test 6: Cache content format - FAILED
   Error: No cache file to test
âŒ Test 7: Cache timestamp validation - FAILED
   Error: No cache file to test
âŒ Test 8: Cache refresh functionality - FAILED
   Error: Could not create cache file for testing
âŒ Test 9: Environment variable export - FAILED
   Error: Only 0/4 git environment variables are set
âŒ Test 10: Git command trigger patterns - FAILED
   Error: None of the expected commands triggered cache creation

==============================================================================
Test Results Summary
==============================================================================
Total Tests: 10
Passed: 1
Failed: 9
Success Rate: 10%

âŒ Some tests failed. Review the details above.

Failed Tests:

==============================================================================
Git cache test completed at 2025-09-08T18:48:07Z
============================================================================== (index=100 duration=1171ms)
[2025-09-08 19:48:07] [FAIL] test-integration - Exit code: 1 (index=101 duration=32ms)
[2025-09-08 19:48:07] [FAIL] test-integration - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
ERROR: Source/execute detection script not found: /Users/s-a-c/dotfiles/dot-config/zsh/.zshrc.d/00_01-source-execute-detection.zsh
[2025-09-08 19:48:16] [PASS] test-loading - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
=== Testing load-shell-fragments behavior ===
[PATH-GUARANTEE] Safe command wrappers initialized
# ++++++ /Users/s-a-c/dotfiles/dot-config/zsh/.zshrc.pre-plugins.d/00_10-fzf-setup.zsh ++++++++++++++++++++++++++++++++++++
# FZF integration loaded from /opt/homebrew, config path: /Users/s-a-c/.fzf
# ++++++ /Users/s-a-c/dotfiles/dot-config/zsh/.zshrc.pre-plugins.d/00_30-lazy-loading-framework.zsh ++++++++++++++++++++++++++++++++++++
# [performance] Loading lazy loading framework
# [performance] Lazy loading framework loaded
# ------ /Users/s-a-c/dotfiles/dot-config/zsh/.zshrc.pre-plugins.d/00_30-lazy-loading-framework.zsh --------------------------------
# ++++++ /Users/s-a-c/dotfiles/dot-config/zsh/.zshrc.pre-plugins.d/10_10-nvm-npm-fix.zsh ++++++++++++++++++++++++++++++++++++
# NVM detected - NPM_CONFIG_PREFIX kept unset for compatibility
# [lazy-direnv] Lazy direnv wrapper initialized
# [lazy-git-config] git not found, skipping
# [lazy-gh-copilot] Lazy GitHub Copilot wrapper initialized
/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh:source:55: no such file or directory: /Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/hlis/plugins/pip/pip.plugin.zsh
Some files in ~/.zshrc.add-plugins.d updated; creating a new init.zsh from plugin list in .config/zsh/.zgen-setup and plugins dir
Creating a zgenom save
# ++++++ /Users/s-a-c/.zshrc.add-plugins.d/010-add-plugins.zsh ++++++++++++++++++++++++++++++++++++
# [add-plugins] Optimal plugin loading sequence complete (14 entries)
-- zgenom: Creating `/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh` ...
-- zgenom: Compiling files ...
# [ui.bullet-train]
# [ui.powerlevel10k]
# [ui.starship]
# [ui.colorize]
# [ui.vi-mode]
# [ui.carapace]
# [ui.thefuck]
# [ui.completion-styles]
# [ui.nvm-omz]
# [prompt] Starship prompt initialized
# [iterm2-shell-integration] Skipping - non-interactive shell or not macOS
# [iterm2-shell-integration] iTerm2 shell integration complete (macOS)
# ++++++ /Users/s-a-c/dotfiles/dot-config/zsh/.p10k.zsh ++++++++++++++++++++++++++++++++++++

Current SSH Keys:
The agent has no identities.

]2;BASEDIR="${ZDOTDIR:-$HOME}/.config/zsh" ]1;]2;echo -e "
1. What load-shell-fragments sees in .zshrc.pre-plugins.d:"]1;
1. What load-shell-fragments sees in .zshrc.pre-plugins.d:
]2;eza --group-directories-first -la "$BASEDIR/.zshrc.pre-plugins.d/"]1;[94mAlias tip: [1;94mls -la "$BASEDIR/.zshrc.pre-plugins.d/"[0m
"/Users/s-a-c/dotfiles/dot-config/zsh/.config/zsh/.zshrc.pre-plugins.d/": No such file or directory (os error 2)
]2;echo -e "
2. Files that should be loaded (recursive):"]1;
2. Files that should be loaded (recursive):
]2;find "$BASEDIR/.zshrc.pre-plugins.d/" -name "*.zsh" | sort]1;find: /Users/s-a-c/dotfiles/dot-config/zsh/.config/zsh/.zshrc.pre-plugins.d/: No such file or directory
]2;echo -e "
3. What load-shell-fragments actually loads (non-recursive):"]1;
3. What load-shell-fragments actually loads (non-recursive):
]2;for item in $(/bin/ls -A "$BASEDIR/.zshrc.pre-plugins.d/"); do; if [ -r  ]; ;]1;ls: /Users/s-a-c/dotfiles/dot-config/zsh/.config/zsh/.zshrc.pre-plugins.d/: No such file or directory
]2;echo -e "
4. Same test for .zshrc.d:"]1;
4. Same test for .zshrc.d:
]2;echo "Directory contents:"]1;Directory contents:
]2;eza --group-directories-first -la "$BASEDIR/.zshrc.d/"]1;[94mAlias tip: [1;94mls -la "$BASEDIR/.zshrc.d/"[0m
"/Users/s-a-c/dotfiles/dot-config/zsh/.config/zsh/.zshrc.d/": No such file or directory (os error 2)
]2;echo -e "
Files that should be loaded (recursive):"]1;
Files that should be loaded (recursive):
]2;find "$BASEDIR/.zshrc.d/" -name "*.zsh" | sort]1;find: /Users/s-a-c/dotfiles/dot-config/zsh/.config/zsh/.zshrc.d/: No such file or directory
]2;echo -e "
What load-shell-fragments actually loads:"]1;
What load-shell-fragments actually loads:
]2;for item in $(/bin/ls -A "$BASEDIR/.zshrc.d/"); do; if [ -r  ]; then;  ; else]1;ls: /Users/s-a-c/dotfiles/dot-config/zsh/.config/zsh/.zshrc.d/: No such file or directory
3.45s user 3.04s system 74% cpu 8.719s total (index=102 duration=8727ms)
[2025-09-08 19:48:16] [PASS] test-minimal-startup - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
Loading minimal ZSH configuration...
Minimal ZSH configuration loaded successfully
Ready for interactive use (index=103 duration=44ms)
[2025-09-08 19:48:16] [FAIL] test-monitoring - Exit code: 1 (index=104 duration=49ms)
[2025-09-08 19:48:16] [FAIL] test-monitoring - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
ERROR: Source/execute detection script not found: /Users/s-a-c/dotfiles/dot-config/zsh/.zshrc.d/00_01-source-execute-detection.zsh
[2025-09-08 19:48:16] [FAIL] test-no-duplication - Exit code: 1 (index=105 duration=43ms)
[2025-09-08 19:48:16] [FAIL] test-no-duplication - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
ERROR: Source/execute detection script not found: /Users/s-a-c/dotfiles/dot-config/zsh/.zshrc.d/00_01-source-execute-detection.zsh
[2025-09-08 19:48:16] [FAIL] test-output-control - Exit code: 1 (index=106 duration=45ms)
[2025-09-08 19:48:16] [FAIL] test-output-control - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
ERROR: Source/execute detection script not found: /Users/s-a-c/dotfiles/dot-config/zsh/.zshrc.d/00_01-source-execute-detection.zsh
[2025-09-08 19:48:16] [FAIL] test-plugin-metadata - Exit code: 1 (index=107 duration=45ms)
[2025-09-08 19:48:16] [FAIL] test-plugin-metadata - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
ERROR: Source/execute detection script not found: /Users/s-a-c/dotfiles/dot-config/zsh/.zshrc.d/00_01-source-execute-detection.zsh
[2025-09-08 19:48:16] [FAIL] test-project-setup - Exit code: 1 (index=108 duration=66ms)
[2025-09-08 19:48:16] [FAIL] test-project-setup - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
ðŸ§ª Testing ZSH Configuration Implementation Project Setup
======================================================
ðŸ“… Test Started: 2025-09-08T18:48:16Z
ðŸ“‹ Log File: /Users/s-a-c/.config/zsh/logs/2025-09-08/test-project-setup_18-48-16.log


1. Testing directory structure creation...
   âŒ Directory missing: /Users/s-a-c/.config/zsh/docs/implementation
   âœ… Directory exists: /Users/s-a-c/.config/zsh/tests/performance
   âœ… Directory exists: /Users/s-a-c/.config/zsh/tests/security
   âŒ Directory missing: /Users/s-a-c/.config/zsh/tests/consistency
   âŒ Directory missing: /Users/s-a-c/.config/zsh/tests/validation
   âŒ Directory missing: /Users/s-a-c/.config/zsh/tests/advanced
   âœ… Directory exists: /Users/s-a-c/.config/zsh/tests/integration

2. Testing directory permissions...
   âœ… Directory permissions OK: /Users/s-a-c/.config/zsh/tests/performance
   âœ… Directory permissions OK: /Users/s-a-c/.config/zsh/tests/security
   âŒ Directory permissions incorrect: /Users/s-a-c/.config/zsh/tests/consistency
   âŒ Directory permissions incorrect: /Users/s-a-c/.config/zsh/tests/validation
   âŒ Directory permissions incorrect: /Users/s-a-c/.config/zsh/tests/advanced
   âœ… Directory permissions OK: /Users/s-a-c/.config/zsh/tests/integration

3. Testing implementation tracking setup...
   âŒ Implementation plan missing: /Users/s-a-c/.config/zsh/docs/zsh-improvement-implementation-plan-2025-08-20.md

ðŸ Test Results Summary
======================
âœ… Tests Passed: 6
âŒ Tests Failed: 8
ðŸ“Š Total Tests: 14

âš ï¸  Some project setup tests failed
âŒ Task 1.1 needs attention
[2025-09-08 19:48:16] [PASS] test-recursive-loading - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
=== Testing recursive load-shell-fragments ===
Testing .zshrc.pre-plugins.d:
Loading direct .zsh files from .zshrc.pre-plugins.d:
  Would load: .zshrc.pre-plugins.d/00_00-critical-path-fix.zsh
  Would load: .zshrc.pre-plugins.d/00_01-path-resolution-fix.zsh
  Would load: .zshrc.pre-plugins.d/00_05-path-guarantee.zsh
  Would load: .zshrc.pre-plugins.d/00_10-fzf-setup.zsh
  Would load: .zshrc.pre-plugins.d/00_30-lazy-loading-framework.zsh
  Would load: .zshrc.pre-plugins.d/10_10-nvm-npm-fix.zsh
  Would load: .zshrc.pre-plugins.d/10_20-macos-defaults-deferred.zsh
  Would load: .zshrc.pre-plugins.d/10_30-lazy-direnv.zsh
  Would load: .zshrc.pre-plugins.d/10_40-lazy-git-config.zsh
  Would load: .zshrc.pre-plugins.d/10_50-lazy-gh-copilot.zsh
  Would load: .zshrc.pre-plugins.d/20_10-ssh-agent-core.zsh
  Would load: .zshrc.pre-plugins.d/20_11-ssh-agent-security.zsh

Testing .zshrc.d:
Loading direct .zsh files from .zshrc.d:
  Would load: .zshrc.d/00_20-plugin-integrity-core.zsh
  Would load: .zshrc.d/00_21-plugin-integrity-advanced.zsh
  Would load: .zshrc.d/00_60-options.zsh
  Would load: .zshrc.d/20_04-essential.zsh
  Would load: .zshrc.d/30_30-prompt.zsh (index=109 duration=80ms)
[2025-09-08 19:48:16] [FAIL] test-review-cycles - Exit code: 1 (index=110 duration=47ms)
[2025-09-08 19:48:16] [FAIL] test-review-cycles - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
ERROR: Source/execute detection script not found: /Users/s-a-c/dotfiles/dot-config/zsh/.zshrc.d/00_01-source-execute-detection.zsh
[2025-09-08 19:48:16] [FAIL] test-script-retrofitting - Exit code: 1 (index=111 duration=42ms)
[2025-09-08 19:48:16] [FAIL] test-script-retrofitting - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
ERROR: Source/execute detection script not found: /Users/s-a-c/dotfiles/dot-config/zsh/.zshrc.d/00_01-source-execute-detection.zsh
[2025-09-08 19:48:17] [PASS] test-secure-ssh-agent - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
# [test-secure-ssh] Starting SSH security test suite at 2025-09-08 18:48:17 UTC
# [test-secure-ssh] Working directory: /Users/s-a-c/dotfiles/dot-config/zsh
# [test-secure-ssh] Log file: /Users/s-a-c/.config/zsh/logs/2025-09-08/test-secure-ssh-20250908-184817.log
/Users/s-a-c/.config/zsh/.zshrc.pre-plugins.d/03-secure-ssh-agent.zsh:source:39: no such file or directory: /Users/s-a-c/.config/zsh/.zshrc.pre-plugins.d/03-secure-ssh-agent.zsh
[1;33m=== Secure SSH Agent Implementation Test Suite ===[0m
Testing actual secure SSH agent implementation...

[1;33mTest 1: Environment validation[0m
test_environment_validation:2: command not found: _validate_ssh_environment
Environment validation failed
[0;31mâœ— FAIL: Environment validation failed[0m

[1;33mTest 2: Agent creation and validation[0m
test_agent_creation:17: command not found: _validate_agent_output
[0;31mâœ— FAIL: Agent creation failed[0m

[1;33mTest 3: Environment file security[0m
[0;32mâœ“ PASS: Environment file properly secured[0m

[1;33mTest 4: Agent reuse functionality[0m
test_agent_reuse_logic:7: no such file or directory: 
chmod: : No such file or directory
[0;31mâœ— FAIL: Agent reuse logic failed[0m

[1;33mTest 5: Lock file race condition prevention[0m
test_lock_file_mechanism:4: command not found: _acquire_ssh_lock
[0;31mâœ— FAIL: Lock mechanism failed[0m

[1;33mTest 6: Agent output validation[0m
test_agent_output_validation:10: command not found: _validate_agent_output
[0;31mâœ— FAIL: Agent output validation failed[0m

[1;33m=== Test Results Summary ===[0m
âœ— Environment validation: FAIL
âœ— Agent creation: FAIL
âœ“ File security: PASS
âœ— Agent reuse: FAIL
âœ— Lock mechanism: FAIL
âœ— Output validation: FAIL

[0;31mSome tests failed. (1/6 passed)[0m
[1;33mReview the secure SSH agent implementation.[0m
# [test-secure-ssh] FAILURE: 5 tests failed
# [test-secure-ssh] Test environment cleaned up
# [test-secure-ssh] Test suite completed at 2025-09-08 18:48:17 UTC (index=112 duration=165ms)
[2025-09-08 19:48:17] [FAIL] test-security-audit - Exit code: 1 (index=113 duration=35ms)
[2025-09-08 19:48:17] [FAIL] test-security-audit - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
ERROR: Source/execute detection script not found: /Users/s-a-c/dotfiles/dot-config/zsh/.zshrc.d/00_01-source-execute-detection.zsh
[2025-09-08 19:48:17] [FAIL] test-source-execute-detection - Exit code: 1 (index=114 duration=42ms)
[2025-09-08 19:48:17] [FAIL] test-source-execute-detection - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
ERROR: Source/execute detection script not found: /Users/s-a-c/dotfiles/dot-config/zsh/.zshrc.d/00_01-source-execute-detection.zsh
[2025-09-08 19:48:17] [PASS] test-ssh-security - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
SSH Security Test Functions:
  ssh_agent_status  - Check current agent status
  test_ssh_security - Run full security test suite (index=115 duration=38ms)
[2025-09-08 19:48:17] [FAIL] test-startup-time - Exit code: 1 (index=116 duration=45ms)
[2025-09-08 19:48:17] [FAIL] test-startup-time - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
ERROR: Source/execute detection script not found: /Users/s-a-c/dotfiles/dot-config/zsh/.zshrc.d/00_01-source-execute-detection.zsh
[2025-09-08 19:49:17] [FAIL] test-lazy-loading - Exit code: 124 (index=117 duration=60019ms)
[2025-09-08 19:49:17] [FAIL] test-lazy-loading - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
ðŸ§ª Testing Lazy Loading System for Heavy Tools
==============================================
ðŸ“… Test Started: 2025-09-08T18:48:17Z
ðŸ“‹ Log File: /Users/s-a-c/.config/zsh/logs/2025-09-08/test-lazy-loading_18-48-17.log

 1. Testing lazy direnv wrapper exists...
   âŒ Testing lazy direnv wrapper exists
 2. Testing lazy git config wrapper exists...
   âŒ Testing lazy git config wrapper exists
 3. Testing lazy GitHub Copilot wrapper exists...
   âŒ Testing lazy GitHub Copilot wrapper exists

ðŸš€ Testing startup time with lazy loading enabled...
   Run 1: zsh -i -c 'exit' 2>&1  2.89s user 2.75s system 80% cpu 7.035 total
tail -1  0.00s user 0.00s system 0% cpu 7.034 total
grep -o '[0-9.]*s'  0.00s user 0.00s system 0% cpu 7.033 total
head -1  0.00s user 0.00s system 0% cpu 7.033 total
sed 's/s//'  0.00s user 0.00s system 0% cpu 7.031 total
Failed to measure
   Run 2: zsh -i -c 'exit' 2>&1  3.03s user 3.22s system 77% cpu 8.022 total
tail -1  0.00s user 0.00s system 0% cpu 8.021 total
grep -o '[0-9.]*s'  0.00s user 0.00s system 0% cpu 8.021 total
head -1  0.00s user 0.00s system 0% cpu 8.021 total
sed 's/s//'  0.00s user 0.00s system 0% cpu 8.019 total
Failed to measure
   Run 3: zsh -i -c 'exit' 2>&1  2.57s user 2.83s system 78% cpu 6.844 total
tail -1  0.00s user 0.00s system 0% cpu 6.845 total
grep -o '[0-9.]*s'  0.00s user 0.00s system 0% cpu 6.843 total
head -1  0.00s user 0.00s system 0% cpu 6.841 total
sed 's/s//'  0.00s user 0.00s system 0% cpu 6.838 total
Failed to measure
   âŒ Could not measure startup times

ðŸ” Testing lazy loading initialization in clean shell...
 5. Testing direnv lazy state initialized...
   âœ… Testing direnv lazy state initialized
 6. Testing git lazy state initialized...
   âŒ Testing git lazy state initialized
 7. Testing GitHub Copilot lazy state initialized...
   âœ… Testing GitHub Copilot lazy state initialized
 8. Testing direnv wrapper function available...
   âœ… Testing direnv wrapper function available
 9. Testing git wrapper function available...
   âœ… Testing git wrapper function available

â±ï¸  Testing deferred execution behavior...
[DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[PATH-GUARANTEE] Safe command wrappers initialized
# ++++++ /Users/s-a-c/dotfiles/dot-config/zsh/.zshrc.pre-plugins.d/00_10-fzf-setup.zsh ++++++++++++++++++++++++++++++++++++
# FZF integration loaded from /opt/homebrew, config path: /Users/s-a-c/.fzf
# ++++++ /Users/s-a-c/dotfiles/dot-config/zsh/.zshrc.pre-plugins.d/00_30-lazy-loading-framework.zsh ++++++++++++++++++++++++++++++++++++
# [performance] Loading lazy loading framework
# [performance] Lazy loading framework loaded
# ------ /Users/s-a-c/dotfiles/dot-config/zsh/.zshrc.pre-plugins.d/00_30-lazy-loading-framework.zsh --------------------------------
# ++++++ /Users/s-a-c/dotfiles/dot-config/zsh/.zshrc.pre-plugins.d/10_10-nvm-npm-fix.zsh ++++++++++++++++++++++++++++++++++++
# NVM detected - NPM_CONFIG_PREFIX kept unset for compatibility
# Lazy loading direnv due to .envrc presence
# [lazy-direnv] Lazy direnv wrapper initialized
# [lazy-git-config] git not found, skipping
# [lazy-gh-copilot] Lazy GitHub Copilot wrapper initialized
Some files in ~/.zshrc.add-plugins.d updated; creating a new init.zsh from plugin list in .config/zsh/.zgen-setup and plugins dir
Creating a zgenom save
# ++++++ /Users/s-a-c/.zshrc.add-plugins.d/010-add-plugins.zsh ++++++++++++++++++++++++++++++++++++
# [add-plugins] Optimal plugin loading sequence complete (14 entries)
# [ui.bullet-train]
# [ui.powerlevel10k]
# [ui.starship]
# [ui.colorize]
# [ui.vi-mode]
# [ui.carapace]
# [ui.thefuck]
# [ui.completion-styles]
# [ui.nvm-omz]
# [prompt] Starship prompt initialized
]1337;RemoteHost=s-a-c@StandAloneComplexs-MacBook-Pro.local]1337;CurrentDir=/tmp/lazy-loading-test-95859]1337;ShellIntegrationVersion=14;shell=zsh# [iterm2-shell-integration] iTerm2 integration initialized (macOS)
# [iterm2-shell-integration] iTerm2 shell integration complete (macOS)
# ++++++ /Users/s-a-c/dotfiles/dot-config/zsh/.p10k.zsh ++++++++++++++++++++++++++++++++++++

Current SSH Keys:
The agent has no identities.

10. Testing direnv not loaded on startup in directory with .envrc...
   âŒ Testing direnv not loaded on startup in directory with .envrc

ðŸŽ¯ Testing on-demand loading behavior...
11. Testing direnv loads when command is used...
   âœ… Testing direnv loads when command is used
[2025-09-08 19:49:17] [FAIL] test-macos-defaults - Exit code: 1 (index=118 duration=137ms)
[2025-09-08 19:49:17] [FAIL] test-macos-defaults - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
ðŸ§ª Testing Deferred macOS Defaults Execution System
==================================================
ðŸ“… Test Started: 2025-09-08T18:49:17Z
ðŸ“‹ Log File: /Users/s-a-c/.config/zsh/logs/2025-09-08/test-macos-defaults_18-49-17.log

1. Testing wrapper script existence and configuration...
   âŒ Wrapper script missing: /Users/s-a-c/.config/zsh/.zshrc.pre-plugins.d/03-macos-defaults-deferred.zsh
2. Testing first run behavior (no marker file)...
   ðŸ—‘ï¸  Removing existing marker file: /Users/s-a-c/.config/zsh/.macos-defaults-last-run
   ðŸ“¥ Sourcing wrapper function...
_test_first_run:source:11: no such file or directory: /Users/s-a-c/.config/zsh/.zshrc.pre-plugins.d/03-macos-defaults-deferred.zsh
   âŒ Marker file not created on first run
_test_first_run:24: no matches found: /Users/s-a-c/.config/zsh/logs/2025-09-08/deferred-macos-defaults_*.log
   âŒ No deferred execution log file found

3. Testing skip behavior (marker file exists and recent)...
   âš ï¸  Creating marker file for skip test
_test_skip_behavior:10: no matches found: /Users/s-a-c/.config/zsh/logs/2025-09-08/deferred-macos-defaults_*.log
   ðŸ“¥ Sourcing wrapper function (second time)...
_test_skip_behavior:source:14: no such file or directory: /Users/s-a-c/.config/zsh/.zshrc.pre-plugins.d/03-macos-defaults-deferred.zsh
_test_skip_behavior:17: no matches found: /Users/s-a-c/.config/zsh/logs/2025-09-08/deferred-macos-defaults_*.log
   âŒ No log file found for skip test

4. Testing script modification detection...
_test_modification_detection:source:12: no such file or directory: /Users/s-a-c/.config/zsh/.zshrc.pre-plugins.d/03-macos-defaults-deferred.zsh
   ðŸ“¥ Sourcing wrapper after script modification...
_test_modification_detection:15: no matches found: /Users/s-a-c/.config/zsh/logs/2025-09-08/deferred-macos-defaults_*.log
   âŒ No log file found for modification test

5. Testing startup time with deferred execution...
   ðŸ“Š Deferred execution time: 6ms
   âœ… Deferred execution is fast (< 100ms)

6. Testing log file organization...
   âœ… Date-named log directory exists: /Users/s-a-c/.config/zsh/logs/2025-09-08
_test_log_organization:13: no matches found: /Users/s-a-c/.config/zsh/logs/2025-09-08/deferred-macos-defaults_*.log
   âŒ No UTC-timestamped log files found

ðŸ Test Results Summary
======================
âœ… Tests Passed: 2
âŒ Tests Failed: 6
ðŸ“Š Total Tests: 8

âš ï¸  Some deferred macOS defaults tests failed
âŒ Task 2.1 needs attention
[2025-09-08 19:49:18] [FAIL] test-plugin-loading-simple - Exit code: 1 (index=119 duration=522ms)
[2025-09-08 19:49:18] [FAIL] test-plugin-loading-simple - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
=== Simplified Plugin Loading Test Suite Started ===
Test timestamp: 20250908_194917
Original PWD: /Users/s-a-c/dotfiles/dot-config/zsh

=== Configuration Files ===
âŒ FAIL: Deferred loading script exists
   Details: Missing file
âŒ FAIL: Deferred loading script is executable
   Details: No execute permission

=== Backup Safety ===
/Users/s-a-c/dotfiles/dot-config/zsh/tests/2025-08-23/performance/test-plugin-loading-simple.zsh:70: no matches found: /Users/s-a-c/.config/zsh/.zgen-setup.backup-deferred-*
âŒ FAIL: Configuration backup exists
   Details: No backup files found

=== Plugin Loading Analysis ===
/Users/s-a-c/dotfiles/dot-config/zsh/tests/2025-08-23/performance/test-plugin-loading-simple.zsh:81: no matches found: /Users/s-a-c/.config/zsh/.zgen-setup.backup-deferred-*
âŒ FAIL: Plugin analysis possible
   Details: No backup file found for comparison

=== Deferred Configuration Content ===
grep: /Users/s-a-c/.config/zsh/.zshrc.pre-plugins.d/04-plugin-deferred-loading.zsh: No such file or directory
âŒ FAIL: Utility plugins scheduled with delay
   Details: Missing 1-second delay configuration
grep: /Users/s-a-c/.config/zsh/.zshrc.pre-plugins.d/04-plugin-deferred-loading.zsh: No such file or directory
âŒ FAIL: OMZ plugins scheduled with delay
   Details: Missing 2-second delay configuration
grep: /Users/s-a-c/.config/zsh/.zshrc.pre-plugins.d/04-plugin-deferred-loading.zsh: No such file or directory
âŒ FAIL: Git lazy wrapper function defined
   Details: Missing git wrapper
grep: /Users/s-a-c/.config/zsh/.zshrc.pre-plugins.d/04-plugin-deferred-loading.zsh: No such file or directory
âŒ FAIL: Docker lazy wrapper function defined
   Details: Missing docker wrapper

=== Main Configuration Cleanup ===
âš ï¸  Plugin git-extra-commands not found as deferred (may have different pattern)
âš ï¸  Plugin jpb.zshplugin not found as deferred (may have different pattern)
âš ï¸  Plugin warhol.plugin.zsh not found as deferred (may have different pattern)
âš ï¸  Plugin tumult.plugin.zsh not found as deferred (may have different pattern)
âš ï¸  Plugin docker-zsh not found as deferred (may have different pattern)
âš ï¸  Plugin 1password-op not found as deferred (may have different pattern)

=== Essential Plugins Preserved ===
âœ… PASS: Essential plugin fast-syntax-highlighting preserved
   Details: Still loads immediately
âœ… PASS: Essential plugin zsh-history-substring-search preserved
   Details: Still loads immediately
âœ… PASS: Essential plugin zsh-autosuggestions preserved
   Details: Still loads immediately
âœ… PASS: Essential plugin powerlevel10k preserved
   Details: Still loads immediately

=== Syntax Validation ===
âŒ FAIL: Deferred loading script syntax is valid
   Details: Syntax errors detected
âœ… PASS: Main configuration syntax is valid

=== Compliance Validation ===
âœ… PASS: Working directory preserved
   Details: Current: /Users/s-a-c/dotfiles/dot-config/zsh
âœ… PASS: UTC timestamped log file created
   Details: File: /Users/s-a-c/.config/zsh/logs/2025-09-08/test-plugin-loading-simple_20250908_194917.log

=== Performance Expectations ===
Active immediate plugins: 26
Deferred plugins count: 0
âŒ FAIL: Significant deferral achieved
   Details: Only deferred 0 plugins

=== TEST EXECUTION SUMMARY ===
Tests passed: 7
Tests failed: 10
Total tests: 17
âš ï¸  SIGNIFICANT ISSUES - Multiple test failures detected
Simplified performance report created: /Users/s-a-c/.config/zsh/logs/2025-09-08/plugin-loading-simple-report_20250908_194917.md
=== Simplified Plugin Loading Test Suite Completed ===
[2025-09-08 19:49:29] [FAIL] test-plugin-loading - Exit code: 1 (index=120 duration=11388ms)
[2025-09-08 19:49:29] [FAIL] test-plugin-loading - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
=== Plugin Loading Test Suite Started ===
Test timestamp: 20250908_194918
Original PWD: /Users/s-a-c/dotfiles/dot-config/zsh
Log file: /Users/s-a-c/.config/zsh/logs/2025-09-08/test-plugin-loading_20250908_194918.log

=== Test Group 1: Configuration Validation ===
âŒ FAIL: Deferred loading configuration file exists
   Details: Path: /Users/s-a-c/.config/zsh/.zshrc.pre-plugins.d/04-plugin-deferred-loading.zsh
âŒ FAIL: Deferred loading configuration is executable

=== Test Group 2: Dependencies Validation ===
âŒ FAIL: zsh-defer command is available
   Details: zsh-defer is required for deferred plugin loading
âŒ FAIL: zgenom plugin manager is available
   Details: zgenom is required for plugin loading

=== Test Group 3: Main Configuration Updates ===
âŒ FAIL: git-extra-commands removed from main loading
   Details: Should be commented as deferred in .zgen-setup
âŒ FAIL: jpb utilities removed from main loading
   Details: Should be commented as deferred in .zgen-setup
âŒ FAIL: warhol plugin removed from main loading
   Details: Should be commented as deferred in .zgen-setup
âŒ FAIL: docker completions removed from main loading
   Details: Should be commented as deferred in .zgen-setup

=== Test Group 4: Startup Performance Testing ===
Measuring shell startup time with deferred loading...
Startup time: 9.926567000s
âŒ FAIL: Shell startup time is reasonable
   Details: Startup time: 9.926567000s (should be < 3s)

=== Test Group 5: Deferred Loading Functionality ===
Deferred loading test output:
[DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
WRAPPER_TEST_git:NO
WRAPPER_TEST_docker:NO
WRAPPER_TEST_op:NO
WRAPPER_TEST_rake:NO
ENV_TEST_git:UNSET
ENV_TEST_docker:UNSET
ENV_TEST_op:UNSET
ENV_TEST_rake:UNSET
DEFER_TEST:NOT_AVAILABLE
âŒ FAIL: Git wrapper function is created
   Details: git command should be wrapped for lazy loading
âŒ FAIL: Docker wrapper function is created
   Details: docker command should be wrapped for lazy loading
âŒ FAIL: 1Password wrapper function is created
   Details: op command should be wrapped for lazy loading
âŒ FAIL: Rake wrapper function is created
   Details: rake command should be wrapped for lazy loading
âœ… PASS: Git plugin not loaded on startup
   Details: Should only load when git is used
âœ… PASS: Docker plugin not loaded on startup
   Details: Should only load when docker is used
âœ… PASS: 1Password plugin not loaded on startup
   Details: Should only load when op is used
âœ… PASS: Rake plugin not loaded on startup
   Details: Should only load when rake is used
âŒ FAIL: zsh-defer is available in clean shell
   Details: Required for deferred loading functionality

=== Test Group 6: Script Syntax Validation ===
âŒ FAIL: Deferred loading script has valid syntax
   Details: Syntax check output: zsh: can't open input file: /Users/s-a-c/.config/zsh/.zshrc.pre-plugins.d/04-plugin-deferred-loading.zsh

=== Test Group 7: Logging Validation ===
âœ… PASS: Log directory structure exists
   Details: Required for comprehensive logging
âœ… PASS: Test log file is being created
   Details: This test should be logging to: /Users/s-a-c/.config/zsh/logs/2025-09-08/test-plugin-loading_20250908_194918.log

=== Test Group 8: Configuration Integrity ===
âœ… PASS: Essential syntax highlighting plugin still loads immediately
   Details: Critical for real-time syntax highlighting
âœ… PASS: Essential history search plugin still loads immediately
   Details: Critical for UP/DOWN arrow functionality
âœ… PASS: Essential autosuggestions plugin still loads immediately
   Details: Critical for interactive shell experience
âœ… PASS: Essential prompt system still loads immediately
   Details: Critical for shell display

=== Test Group 9: File System Validation ===
âŒ FAIL: Deferred loading script is readable
âŒ FAIL: Plugin audit documentation exists
   Details: Documentation should be available for reference

=== Test Group 10: Backup and Safety ===
âŒ FAIL: Main configuration backup was created
   Details: Safety measure before modifications

=== Test Group 11: Performance Comparison ===
/Users/s-a-c/dotfiles/dot-config/zsh/tests/2025-08-23/performance/test-plugin-loading.zsh:311: no matches found: /Users/s-a-c/.config/zsh/.zgen-setup.backup-deferred-*
Original plugin count (immediate loading): 0
Current plugin count (immediate loading): 27
âŒ FAIL: Significant plugin count reduction achieved
   Details: Reduced immediate loading from 0 to 27 plugins (--27)

=== Test Group 12: Deferred Scheduling Validation ===
grep: /Users/s-a-c/.config/zsh/.zshrc.pre-plugins.d/04-plugin-deferred-loading.zsh: No such file or directory
âŒ FAIL: Utility plugins scheduled with 1s delay
   Details: Background loading timing is configured
grep: /Users/s-a-c/.config/zsh/.zshrc.pre-plugins.d/04-plugin-deferred-loading.zsh: No such file or directory
âŒ FAIL: OMZ plugins scheduled with 2s delay
   Details: Staged loading approach is configured
grep: /Users/s-a-c/.config/zsh/.zshrc.pre-plugins.d/04-plugin-deferred-loading.zsh: No such file or directory
âŒ FAIL: Utility plugin jpb.zshplugin is in deferred loading
   Details: Should be loaded in background
grep: /Users/s-a-c/.config/zsh/.zshrc.pre-plugins.d/04-plugin-deferred-loading.zsh: No such file or directory
âŒ FAIL: Utility plugin warhol.plugin.zsh is in deferred loading
   Details: Should be loaded in background
grep: /Users/s-a-c/.config/zsh/.zshrc.pre-plugins.d/04-plugin-deferred-loading.zsh: No such file or directory
âŒ FAIL: Utility plugin tumult.plugin.zsh is in deferred loading
   Details: Should be loaded in background
grep: /Users/s-a-c/.config/zsh/.zshrc.pre-plugins.d/04-plugin-deferred-loading.zsh: No such file or directory
âŒ FAIL: Utility plugin eventi/noreallyjustfuckingstopalready is in deferred loading
   Details: Should be loaded in background
grep: /Users/s-a-c/.config/zsh/.zshrc.pre-plugins.d/04-plugin-deferred-loading.zsh: No such file or directory
âŒ FAIL: Utility plugin bitbucket-git-helpers is in deferred loading
   Details: Should be loaded in background
grep: /Users/s-a-c/.config/zsh/.zshrc.pre-plugins.d/04-plugin-deferred-loading.zsh: No such file or directory
âŒ FAIL: Utility plugin skx/sysadmin-util is in deferred loading
   Details: Should be loaded in background
grep: /Users/s-a-c/.config/zsh/.zshrc.pre-plugins.d/04-plugin-deferred-loading.zsh: No such file or directory
âŒ FAIL: Utility plugin StackExchange/blackbox is in deferred loading
   Details: Should be loaded in background
grep: /Users/s-a-c/.config/zsh/.zshrc.pre-plugins.d/04-plugin-deferred-loading.zsh: No such file or directory
âŒ FAIL: Utility plugin sharat87/pip-app is in deferred loading
   Details: Should be loaded in background
grep: /Users/s-a-c/.config/zsh/.zshrc.pre-plugins.d/04-plugin-deferred-loading.zsh: No such file or directory
âŒ FAIL: Utility plugin chrissicool/zsh-256color is in deferred loading
   Details: Should be loaded in background
grep: /Users/s-a-c/.config/zsh/.zshrc.pre-plugins.d/04-plugin-deferred-loading.zsh: No such file or directory
âŒ FAIL: Utility plugin supercrabtree/k is in deferred loading
   Details: Should be loaded in background
grep: /Users/s-a-c/.config/zsh/.zshrc.pre-plugins.d/04-plugin-deferred-loading.zsh: No such file or directory
âŒ FAIL: OMZ plugin plugins/aws is in deferred loading
   Details: Should be loaded in background
grep: /Users/s-a-c/.config/zsh/.zshrc.pre-plugins.d/04-plugin-deferred-loading.zsh: No such file or directory
âŒ FAIL: OMZ plugin plugins/chruby is in deferred loading
   Details: Should be loaded in background
grep: /Users/s-a-c/.config/zsh/.zshrc.pre-plugins.d/04-plugin-deferred-loading.zsh: No such file or directory
âŒ FAIL: OMZ plugin plugins/rsync is in deferred loading
   Details: Should be loaded in background
grep: /Users/s-a-c/.config/zsh/.zshrc.pre-plugins.d/04-plugin-deferred-loading.zsh: No such file or directory
âŒ FAIL: OMZ plugin plugins/screen is in deferred loading
   Details: Should be loaded in background
grep: /Users/s-a-c/.config/zsh/.zshrc.pre-plugins.d/04-plugin-deferred-loading.zsh: No such file or directory
âŒ FAIL: OMZ plugin plugins/vagrant is in deferred loading
   Details: Should be loaded in background
grep: /Users/s-a-c/.config/zsh/.zshrc.pre-plugins.d/04-plugin-deferred-loading.zsh: No such file or directory
âŒ FAIL: OMZ plugin plugins/macos is in deferred loading
   Details: Should be loaded in background

=== Test Group 13: Working Directory Management ===
âœ… PASS: Working directory preserved during tests
   Details: Current: /Users/s-a-c/dotfiles/dot-config/zsh, Original: /Users/s-a-c/dotfiles/dot-config/zsh

=== Test Group 14: Log File Organization ===
date: illegal time format
usage: date [-jnRu] [-I[date|hours|minutes|seconds|ns]] [-f input_fmt]
            [ -z output_zone ] [-r filename|seconds] [-v[+|-]val[y|m|w|d|H|M|S]]
            [[[[mm]dd]HH]MM[[cc]yy][.SS] | new_date] [+output_fmt]
âœ… PASS: Date-based log directory structure exists
   Details: Logs should be organized by UTC date
âœ… PASS: Test log file follows UTC timestamp naming
   Details: File: /Users/s-a-c/.config/zsh/logs/2025-09-08/test-plugin-loading_20250908_194918.log

=== Test Group 15: Integration Testing ===
âœ… PASS: Deferred loading configuration sources without errors
   Details: Critical for shell startup success

=== TEST EXECUTION SUMMARY ===
Tests passed: 14
Tests failed: 37
Total tests: 51
âš ï¸  SOME TESTS FAILED - Review the failed tests above

=== DETAILED TEST RESULTS ===
FAIL: Deferred loading configuration file exists
FAIL: Deferred loading configuration is executable
FAIL: zsh-defer command is available
FAIL: zgenom plugin manager is available
FAIL: git-extra-commands removed from main loading
FAIL: jpb utilities removed from main loading
FAIL: warhol plugin removed from main loading
FAIL: docker completions removed from main loading
FAIL: Shell startup time is reasonable
FAIL: Git wrapper function is created
FAIL: Docker wrapper function is created
FAIL: 1Password wrapper function is created
FAIL: Rake wrapper function is created
PASS: Git plugin not loaded on startup
PASS: Docker plugin not loaded on startup
PASS: 1Password plugin not loaded on startup
PASS: Rake plugin not loaded on startup
FAIL: zsh-defer is available in clean shell
FAIL: Deferred loading script has valid syntax
PASS: Log directory structure exists
PASS: Test log file is being created
PASS: Essential syntax highlighting plugin still loads immediately
PASS: Essential history search plugin still loads immediately
PASS: Essential autosuggestions plugin still loads immediately
PASS: Essential prompt system still loads immediately
FAIL: Deferred loading script is readable
FAIL: Plugin audit documentation exists
FAIL: Main configuration backup was created
FAIL: Significant plugin count reduction achieved
FAIL: Utility plugins scheduled with 1s delay
FAIL: OMZ plugins scheduled with 2s delay
FAIL: Utility plugin jpb.zshplugin is in deferred loading
FAIL: Utility plugin warhol.plugin.zsh is in deferred loading
FAIL: Utility plugin tumult.plugin.zsh is in deferred loading
FAIL: Utility plugin eventi/noreallyjustfuckingstopalready is in deferred loading
FAIL: Utility plugin bitbucket-git-helpers is in deferred loading
FAIL: Utility plugin skx/sysadmin-util is in deferred loading
FAIL: Utility plugin StackExchange/blackbox is in deferred loading
FAIL: Utility plugin sharat87/pip-app is in deferred loading
FAIL: Utility plugin chrissicool/zsh-256color is in deferred loading
FAIL: Utility plugin supercrabtree/k is in deferred loading
FAIL: OMZ plugin plugins/aws is in deferred loading
FAIL: OMZ plugin plugins/chruby is in deferred loading
FAIL: OMZ plugin plugins/rsync is in deferred loading
FAIL: OMZ plugin plugins/screen is in deferred loading
FAIL: OMZ plugin plugins/vagrant is in deferred loading
FAIL: OMZ plugin plugins/macos is in deferred loading
PASS: Working directory preserved during tests
PASS: Date-based log directory structure exists
PASS: Test log file follows UTC timestamp naming
PASS: Deferred loading configuration sources without errors

=== PERFORMANCE ANALYSIS ===
Shell startup time: 9.926567000s
Plugin reduction: -27 plugins moved to deferred loading
Immediate loading plugins remaining: 27
Performance report created: /Users/s-a-c/.config/zsh/logs/2025-09-08/plugin-loading-performance-report_20250908_194918.md
=== Plugin Loading Test Suite Completed ===
4.56s user 4.23s system 77% cpu 11.378s total
[2025-09-08 19:49:31] [PASS] test-startup-time - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
==============================================================================
ZSH Startup Time Performance Test
Started: Mon  8 Sep 2025 19:49:29 BST
Log file: /Users/s-a-c/.config/zsh/logs/2025-09-08/test-startup-time-19-49-29.log
==============================================================================

ðŸ“Š Testing ZSH startup performance...
  Test 1: Current configuration (5 iterations)
    Iteration 1/5: 28.619000000ms
    Iteration 2/5: 28.643000000ms
    Iteration 3/5: 25.623000000ms
    Iteration 4/5: 26.017000000ms
    Iteration 5/5: 25.696000000ms
    ðŸ“ˆ CURRENT configuration stats:
      Successful: 5/5
      Average: 26.9ms
      Min/Max: 25.623000000ms / 28.643000000ms

  Test 3: No configuration baseline (5 iterations)
    Iteration 1/5: 26.257000000ms
    Iteration 2/5: 25.774000000ms
    Iteration 3/5: 27.160000000ms
    Iteration 4/5: 38.766000000ms
    Iteration 5/5: 26.622000000ms
    ðŸ“ˆ NONE configuration stats:
      Successful: 5/5
      Average: 28.9ms
      Min/Max: 25.774000000ms / 38.766000000ms

ðŸ“Š Comparing with baseline measurements...
  âš ï¸  No baseline measurements found. Run zsh-performance-baseline first.
ðŸ” Analyzing potential bottlenecks...
  Scanning for potential bottlenecks:
    eval statements found:      116
    Command substitutions:     2499
    File existence checks:      427
ðŸŽ¯ Validating performance targets...
  Current average: 26.9ms
  Target: <300ms
  âœ… Performance target met

ðŸ§¹ Cleaning up test environment...
  Removed temporary directory: /tmp/zsh-startup-test.42449
  Test log saved: /Users/s-a-c/.config/zsh/logs/2025-09-08/test-startup-time-19-49-29.log

==============================================================================
âœ… All performance tests passed
============================================================================== (index=121 duration=1879ms)
[2025-09-08 19:49:31] [FAIL] test-env-sanitization - Exit code: 1 (index=122 duration=139ms)
[2025-09-08 19:49:31] [FAIL] test-env-sanitization - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[2025-09-08 18:49:31 UTC] [INFO] Starting Environment Sanitization test suite
ðŸ›¡ï¸  Starting Environment Sanitization Test Suite
ðŸ“ Test Directory: /tmp/zsh-env-sanitization-test-43725
ðŸ“‹ Test Log: /Users/s-a-c/.config/zsh/logs/2025-09-08/test-env-sanitization-184931.log

[2025-09-08 18:49:31 UTC] [INFO] Setting up environment sanitization test environment in /tmp/zsh-env-sanitization-test-43725
[2025-09-08 18:49:31 UTC] [ERROR] Environment sanitization script not found at /Users/s-a-c/.config/zsh/.zshrc.pre-plugins.d/05-environment-sanitization.zsh
[2025-09-08 18:49:31 UTC] [ERROR] Failed to setup test environment
âŒ Failed to setup test environment
[2025-09-08 18:49:31 UTC] [INFO] Cleaning up test environment
[2025-09-08 18:49:31 UTC] [INFO] Test environment cleanup complete
[2025-09-08 19:49:31] [FAIL] test-plugin-integrity-simple - Exit code: 1 (index=123 duration=84ms)
[2025-09-08 19:49:31] [FAIL] test-plugin-integrity-simple - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[2025-09-08 18:49:31 UTC] [INFO] Starting Plugin Integrity Verification (Simplified) test suite
ðŸ”’ Starting Plugin Integrity Verification (Simplified) Test Suite
ðŸ“ Test Directory: /tmp/zsh-plugin-integrity-simple-43841
ðŸ“‹ Test Log: /Users/s-a-c/.config/zsh/logs/2025-09-08/test-plugin-integrity-simple-184931.log

[2025-09-08 18:49:31 UTC] [INFO] Setting up simplified test environment in /tmp/zsh-plugin-integrity-simple-43841
[2025-09-08 18:49:31 UTC] [ERROR] Failed to source plugin integrity verification system
[2025-09-08 18:49:31 UTC] [ERROR] Failed to setup test environment
âŒ Failed to setup test environment
[2025-09-08 18:49:31 UTC] [INFO] Cleaning up test environment
[2025-09-08 18:49:31 UTC] [INFO] Test environment cleanup complete
[2025-09-08 19:49:32] [FAIL] test-plugin-integrity - Exit code: 1 (index=124 duration=447ms)
[2025-09-08 19:49:32] [FAIL] test-plugin-integrity - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
[2025-09-08 18:49:32 UTC] [INFO] Starting Plugin Integrity Verification test suite
ðŸ”’ Starting Plugin Integrity Verification Test Suite
ðŸ“ Test Directory: /tmp/zsh-plugin-integrity-test-43967
ðŸ“‹ Test Log: /Users/s-a-c/.config/zsh/logs/2025-09-08/test-plugin-integrity-184932.log

[2025-09-08 18:49:32 UTC] [INFO] Setting up test environment in /tmp/zsh-plugin-integrity-test-43967
setup_test_environment:source:30: no such file or directory: /Users/s-a-c/.config/zsh/.zshrc.pre-plugins.d/04-plugin-integrity-verification.zsh
[2025-09-08 18:49:32 UTC] [INFO] Test environment setup complete
[2025-09-08 18:49:32 UTC] [INFO] Running test 1: Registry Creation and Structure
[2025-09-08 18:49:32 UTC] [INFO] Testing trusted plugin registry creation
[2025-09-08 18:49:32 UTC] [ERROR] Registry file not created: /tmp/zsh-plugin-integrity-test-43967/security/plugin-registry/trusted-plugins.json
[2025-09-08 18:49:32 UTC] [FAIL] Test 1: Registry Creation and Structure - FAILED
âŒ Test 1: Registry Creation and Structure - FAILED
[2025-09-08 18:49:32 UTC] [INFO] Running test 2: Trusted Plugin Verification
[2025-09-08 18:49:32 UTC] [INFO] Testing trusted plugin verification
test_trusted_plugin_verification:10: command not found: _verify_plugin_integrity
[2025-09-08 18:49:32 UTC] [ERROR] Trusted plugin verification failed
[2025-09-08 18:49:32 UTC] [FAIL] Test 2: Trusted Plugin Verification - FAILED
âŒ Test 2: Trusted Plugin Verification - FAILED
[2025-09-08 18:49:32 UTC] [INFO] Running test 3: Untrusted Plugin Detection
[2025-09-08 18:49:32 UTC] [INFO] Testing untrusted plugin detection
test_untrusted_plugin_detection:10: command not found: _verify_plugin_integrity
[2025-09-08 18:49:32 UTC] [ERROR] Untrusted plugin should be allowed in WARN mode
[2025-09-08 18:49:32 UTC] [FAIL] Test 3: Untrusted Plugin Detection - FAILED
âŒ Test 3: Untrusted Plugin Detection - FAILED
[2025-09-08 18:49:32 UTC] [INFO] Running test 4: Plugin Tampering Detection
[2025-09-08 18:49:32 UTC] [INFO] Testing plugin tampering detection
test_plugin_tampering_detection:9: command not found: _verify_plugin_integrity
[2025-09-08 18:49:32 UTC] [ERROR] Initial plugin verification failed
[2025-09-08 18:49:32 UTC] [FAIL] Test 4: Plugin Tampering Detection - FAILED
âŒ Test 4: Plugin Tampering Detection - FAILED
[2025-09-08 18:49:32 UTC] [INFO] Running test 5: Security Level Configuration
[2025-09-08 18:49:32 UTC] [INFO] Testing security level configuration
test_security_level_configuration:8: command not found: _secure_zgenom_load
[2025-09-08 18:49:32 UTC] [ERROR] Plugin should be allowed in DISABLED mode
[2025-09-08 18:49:32 UTC] [FAIL] Test 5: Security Level Configuration - FAILED
âŒ Test 5: Security Level Configuration - FAILED
[2025-09-08 18:49:32 UTC] [INFO] Running test 6: Hash Generation and Caching
[2025-09-08 18:49:32 UTC] [INFO] Testing plugin hash generation and caching
test_hash_generation_caching:6: command not found: _get_plugin_hash
test_hash_generation_caching:14: command not found: _get_plugin_hash
test_hash_generation_caching:23: command not found: _get_plugin_hash
[2025-09-08 18:49:32 UTC] [ERROR] Hash should change after file modification
[2025-09-08 18:49:32 UTC] [FAIL] Test 6: Hash Generation and Caching - FAILED
âŒ Test 6: Hash Generation and Caching - FAILED
[2025-09-08 18:49:32 UTC] [INFO] Running test 7: Logging and Audit Trail
[2025-09-08 18:49:32 UTC] [INFO] Testing logging and audit trail
test_logging_audit_trail:9: command not found: _verify_plugin_integrity
test_logging_audit_trail:10: command not found: _verify_plugin_integrity
[2025-09-08 18:49:32 UTC] [ERROR] Verification not logged
[2025-09-08 18:49:32 UTC] [FAIL] Test 7: Logging and Audit Trail - FAILED
âŒ Test 7: Logging and Audit Trail - FAILED
[2025-09-08 18:49:32 UTC] [INFO] Running test 8: Plugin Name Extraction
[2025-09-08 18:49:32 UTC] [INFO] Testing plugin name extraction from various formats
test_plugin_name_extraction:14: command not found: _secure_zgenom_load
[2025-09-08 18:49:32 UTC] [ERROR] Failed to handle plugin spec: https://github.com/user/plugin.git
[2025-09-08 18:49:32 UTC] [FAIL] Test 8: Plugin Name Extraction - FAILED
âŒ Test 8: Plugin Name Extraction - FAILED
[2025-09-08 18:49:32 UTC] [INFO] Running test 9: Security Status Functions
[2025-09-08 18:49:32 UTC] [INFO] Testing security status and management functions
[2025-09-08 18:49:32 UTC] [ERROR] Security status function failed
[2025-09-08 18:49:32 UTC] [FAIL] Test 9: Security Status Functions - FAILED
âŒ Test 9: Security Status Functions - FAILED
[2025-09-08 18:49:32 UTC] [INFO] Running test 10: Error Handling and Resilience
[2025-09-08 18:49:32 UTC] [INFO] Testing error handling and resilience
test_error_handling:6: command not found: _verify_plugin_integrity
[2025-09-08 18:49:32 UTC] [ERROR] Should handle non-existent paths gracefully in WARN mode
[2025-09-08 18:49:32 UTC] [FAIL] Test 10: Error Handling and Resilience - FAILED
âŒ Test 10: Error Handling and Resilience - FAILED

ðŸ”’ Plugin Integrity Verification Test Results:
âœ… Passed: 0
âŒ Failed: 10
ðŸ“Š Total:  10

ðŸ“ˆ Success Rate: 0%
[2025-09-08 18:49:32 UTC] [INFO] Plugin Integrity Verification test suite completed: 0/10 tests passed (0%)
âš ï¸  Some tests failed. Please review the logs and fix issues before deployment.
[2025-09-08 18:49:32 UTC] [WARN] 10 tests failed - system needs attention before production use
[2025-09-08 18:49:32 UTC] [INFO] Cleaning up test environment
[2025-09-08 18:49:32 UTC] [INFO] Test environment cleanup complete
[2025-09-08 19:49:32] [PASS] test-backup-restore - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
ðŸ§ª Testing ZSH Configuration Backup/Restore System
==================================================
ðŸ“… Test Started: 2025-09-08T18:49:32Z
ðŸ“‹ Log File: /Users/s-a-c/.config/zsh/logs/2025-09-08/test-backup-restore_18-49-32.log


1. Testing backup system creation...
   âœ… Backup creation function works
   âœ… Backup directory created: /Users/s-a-c/.config/zsh/.zsh-backups/test-2025-09-08_19-49-32
   âœ… Manifest file created
   âœ… Manifest file has proper header

2. Testing backup integrity verification...
   âœ… Backup integrity verification works

3. Testing backup archival...
   âœ… Backup archive created: /Users/s-a-c/.config/zsh/.zsh-backups/test-2025-09-08_19-49-32.tar.gz
   âœ… Archive integrity verified
   âœ… Archive extraction works

4. Testing restore simulation...
   ðŸ“‹ Simulating restore from: /Users/s-a-c/.config/zsh/.zsh-backups/test-2025-09-08_19-49-32
   ðŸ“„ Files that would be restored:
      - .zshrc
      - .zshenv
   ðŸ“ Directories that would be restored:
      - .zshrc.d/
      - .zshrc.add-plugins.d/
      - .zshrc.pre-plugins.d/
   âœ… Restore simulation completed successfully

ðŸ§© Cleaning up test artifacts...

ðŸ Test Results Summary
======================
âœ… Tests Passed: 9
âŒ Tests Failed: 0
ðŸ“Š Total Tests: 9

ðŸŽ‰ All backup/restore tests passed!
âœ… Task 5.4 (Backup and versioning automation) - READY (index=125 duration=321ms)
[2025-09-08 19:49:32] [SKIP]  - not executable (index=126)
[2025-09-08 19:49:32] [SKIP]  - not executable (index=127)
[2025-09-08 19:49:32] [PASS] test-framework - [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0 (index=128 duration=38ms)
[2025-09-08 19:49:33] [FAIL] test-core-functions - Exit code: 1 (index=129 duration=42ms)
[2025-09-08 19:49:33] [FAIL] test-core-functions - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
FAIL: prerequisite - .zshenv missing (/Users/s-a-c/dotfiles/dot-config/zsh/dot-config/zsh/.zshenv)
[2025-09-08 19:49:33] [FAIL] test-integrity-scheduler-manifest - Exit code: 1 (index=130 duration=43ms)
[2025-09-08 19:49:33] [FAIL] test-integrity-scheduler-manifest - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
FAIL: prerequisite - ZSH_DIR missing at /Users/s-a-c/dotfiles/dot-config/zsh/dot-config/zsh
[2025-09-08 19:49:33] [FAIL] test-interactive-options - Exit code: 1 (index=131 duration=63ms)
[2025-09-08 19:49:33] [FAIL] test-interactive-options - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
FAIL: prerequisite - ZSH_DIR not found at /Users/s-a-c/dotfiles/dot-config/zsh/dot-config/zsh
[2025-09-08 19:49:33] [FAIL] test-path-hygiene - Exit code: 1 (index=132 duration=59ms)
[2025-09-08 19:49:33] [FAIL] test-path-hygiene - Output: [DEBUG] early .zshenv:
    ZDOTDIR=/Users/s-a-c/dotfiles/dot-config/zsh
    ZSH_CACHE_DIR=/Users/s-a-c/.cache/zsh
    ZSH_LOG_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/logs
[DEBUG]: localized zgenom configuration:
    ZGEN_SOURCE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGENOM_SOURCE_FILE=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/zgenom.zsh
    ZGEN_DIR=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom
    ZGEN_INIT=/Users/s-a-c/dotfiles/dot-config/zsh/.zqs-zgenom/init.zsh
    ZGEN_AUTOLOAD_COMPINIT=0
FAIL: prerequisite - .zshenv not found at /Users/s-a-c/dotfiles/dot-config/zsh/dot-config/zsh/.zshenv
[2025-09-08 19:49:33] [SUMMARY] Total: 132, Passed: 27, Failed: 80, Skipped: 25
[2025-09-08 19:49:33] [FAILURE] 80 test(s) failed
